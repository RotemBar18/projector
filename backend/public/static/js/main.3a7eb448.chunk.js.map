{"version":3,"sources":["pages/Home.jsx","services/utilService.js","services/httpService.js","services/boardService.js","services/socketService.js","store/actions/boardActions.js","services/userService.js","store/actions/userActions.js","cmps/DeleteBoardConfirm.jsx","cmps/BoardPreview.jsx","cmps/BoardCreate.jsx","assets/imgs/plus.png","cmps/BoardList.jsx","pages/BoardPage.jsx","services/taskService.js","cmps/LabelPreview.jsx","cmps/LabelEdit.jsx","cmps/LabelsList.jsx","cmps/MembersList.jsx","cmps/Dates.jsx","cmps/TaskOptions.jsx","cmps/TaskPreview.jsx","cmps/TaskList.jsx","cmps/GroupOptions.jsx","cmps/Group.jsx","cmps/BgPicksList.jsx","cmps/SideBar.jsx","services/groupService.js","services/labelService.js","cmps/Checklist.jsx","pages/TaskDetails.jsx","cmps/AddUsers.jsx","cmps/BoardHeader.jsx","cmps/BoardCharts.jsx","pages/BoardDetails.jsx","pages/LoginSignup.jsx","routes.js","assets/imgs/logo1.png","cmps/Header.jsx","assets/imgs/logo2.png","App.jsx","serviceWorkerRegistration.js","store/reducers/boardReducer.js","store/reducers/userReducer.js","store/reducers/index.js","store/store.js","reportWebVitals.js","index.js"],"names":["Home","className","to","Component","utilService","delay","ms","Promise","resolve","setTimeout","getRandomInt","min","max","Math","ceil","floor","random","makeId","length","txt","possible","i","charAt","getNameInitials","name","rgx","RegExp","initials","matchAll","shift","pop","toUpperCase","convertToCreatedAtDate","date","month","getUTCMonth","day","getUTCDate","year","getUTCFullYear","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","a","method","url","params","res","console","dir","response","status","window","location","assign","boardService","query","getById","id","save","changeBg","pick","imgUrl","bgColor","board","style","remove","addActivity","loggedInUser","group","action","task","Date","createdAt","newActivity","byMember","fullname","activities","changeBoardTitle","newBoardTitle","title","toggleUser","user","userIdx","members","findIndex","boardMember","_id","splice","boards","socketService","socket","setup","io","reconnection","on","eventName","cb","off","removeAllListeners","emit","terminate","createSocketService","loadBoards","dispatch","type","saveBoard","savedBoard","log","setBoard","boardId","currBoard","userService","login","logout","signup","getUsers","userId","update","getLoggedinUser","increaseScore","_saveLocalUser","by","score","userCred","sessionStorage","clear","setItem","JSON","stringify","parse","getItem","loadUsers","users","DeleteBoardConfirm","onToggleDelete","onRemoveBoard","onClick","ev","stopPropagation","preventDefault","divClick","_BoardPreview","state","isDeleteBoardOpen","setState","props","removeBoard","this","img","clr","textDecoration","backgroundImage","backgroundColor","React","mapDispatchToProps","BoardPreview","connect","_BoardCreate","isCreateHidden","toggleModalVisibility","boolean","handleChange","target","value","handleBackground","src","onCreateBoard","alt","hidden","onSubmit","autoComplete","placeholder","onChange","BoardCreate","boardModule","BoardList","map","_BoardPage","BoardPage","userModule","taskService","getPreview","checklists","todosSum","doneTodosSum","forEach","checklist","currTodosSum","todos","currDoneTodosSum","filter","todo","isDone","getDatePreview","currDate","monthName","substring","addTask","groupId","newTitle","groupIdx","groups","tasks","newTask","comments","attachments","updateTask","updatedTask","updatedTaskId","deleteTask","taskId","taskIdx","getTaskById","find","addLabel","labelId","fitLabelId","TaskIdx","labelIds","push","onRemoveLabel","labelIdx","currLabelId","checkLabel","toggleTaskMember","member","memberIdx","taskMember","addComment","comment","commentIdx","taskcomment","setTaskDate","dueDate","complete","getTimeStemp","event","toLocaleDateString","undefined","weekday","LabelPreview","lable","isLabelsOpen","from","color","LabelEdit","currLabel","label","onSaveLabel","toggleEditLabel","updateLabel","addLabelToBoard","key","setLabelColor","LabelsList","isEditLabelOpen","onLabelToggle","onAddLabel","checkIfLabelInTask","some","toggleEditLabels","Fragment","labels","MembersList","checkIfMemberInTask","patten","test","toggleEditMembers","Avatar","_Dates","closeDateModal","prevPage","toggleModal","toggleChangeDueDate","setDate","noValidate","TextField","defaultValue","autoFocus","InputLabelProps","shrink","Dates","TaskOptions","isEditLabelsOpen","isEditMembersOpen","isEditDueDateOpen","onUpdateTask","onToggleTaskOptions","preventDragHandler","e","onDeleteTask","cols","rows","TaskPreview","isTaskOptionsShow","getLableById","toggleTaskOptions","toggleDroppable","toggleLabels","convertNumToDate","deuDate","getChecklistsPreview","legnth","fullName","_TaskList","isDragDisabled","listRef","createRef","isScroll","current","scrollIntoView","behavior","isAddTaskOpen","onToggleAddTask","handleTaskChange","onAddTask","newTaskTitle","droppableId","provided","droppableProps","ref","innerRef","index","draggableId","draggableProps","dragHandleProps","TaskList","GroupOptions","onToggleGroupOptions","onDeleteGroup","onCopyGroup","Group","isGroupOptionOpen","isChangeGroupNameOpen","handleGroupChange","toggleChangeGroupName","onChangeGroupName","newGroupTitle","changeGroupName","BgPicksList","bgPicks","onChangeBg","border","SideBar","isChangeBgOpen","isBgPickOpen","onToggleChangeBg","onTogglePickBg","picks","onToggleSideBar","activity","groupService","deleteGroup","copyGroup","groupCopy","currGroup","addGroup","newGroup","labelService","labelUpdates","currLabelIdx","newLabel","Checklist","toggleComplete","checklistIdx","todoIdx","updateChecklist","addTodo","removeTodo","Checkbox","checked","wrap","_TaskDetails","isMembersModalShow","isLabelsModalShow","isEditLabelsShow","isEditDateShow","isAttachmentShow","isChooseCoverShow","isChecklistShow","attachment","timestamp","match","goBack","history","modal","taskLabelId","getLabelProperty","changeHandlerFile","handleSubmissionFile","removeLink","urlIdx","setCover","changeCover","checkIfDateComplete","toggleDateComplete","onChangeChecklist","handleSubmissionChecklist","unshift","description","AvatarGroup","Grid","item","Input","disableUnderline","fullWidth","htmlFor","TaskDetails","AddUsers","checkIfMemberInBoard","toggleAddMembers","BoardHeader","isChangeBoardTitleOpen","isAddMembersOpen","toggleChangeBoardTitle","onToggleCharts","onChangeBoardTitle","_BoardCharts","groupsTitles","tasksAmount","tasksPerMember","createData","roeyCount","noaCount","rotemCount","tasksCount","tasksPerGroupData","Object","values","datasets","borderWidth","tasksPerMemberData","keys","options","scales","y","beginAtZero","maintainAspectRatio","BoardCharts","_BoardDetails","isSideBarOpen","isAddGroupOpen","isChartsOpen","order","getBoardDetails","onToggleAddGroup","onAddGroup","dateNum","handleOnDragEnd","result","destination","source","reorderedItem","component","path","onDragEnd","direction","BoardDetails","_LoginSignup","isLogin","msg","loginCred","username","password","signupCred","onToggleLoginSignup","loginHandleChange","prevState","signupHandleChange","doLogin","userCreds","err","doSignup","signupCreds","removeUser","loginSection","signupSection","routes","_Header","Logo1","Header","App","route","exact","Boolean","hostname","initialState","localLoggedinUser","loggedinUser","rootReducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3a7eb448.chunk.js","sourcesContent":["import { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"home\">\r\n                <div className=\"home-txt-container\">\r\n                    <h1 className=\"home-title\">EasyTask</h1>\r\n                    <h3 className=\"home-txt\">\r\n                    EasyTask is your new partner who will help you all throughout your project.\r\n                        From planning, through working and eventually finishing your project.\r\n                        EasyTask is flexible to any project you could dream of.\r\n                    </h3>\r\n                <Link to=\"/board\" className=\"home-link\">COME ON IN!</Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","export const utilService = {\r\n    delay,\r\n    getRandomInt,\r\n    makeId,\r\n    getNameInitials,\r\n    convertToCreatedAtDate,\r\n}\r\n\r\nfunction delay(ms = 1500) {\r\n    return new Promise(resolve => {\r\n        setTimeout(resolve, ms)\r\n    })\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive\r\n}\r\n\r\nfunction makeId(length = 5) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n\r\nfunction getNameInitials(name) {\r\n    let rgx = new RegExp(/(\\p{L}{1})\\p{L}+/, 'gu');\r\n    let initials = [...name.matchAll(rgx)] || [];\r\n    initials = (\r\n        (initials.shift()?.[1] || '') + (initials.pop()?.[1] || '')\r\n    ).toUpperCase();\r\n    return initials\r\n}\r\n\r\nfunction convertToCreatedAtDate(date) {\r\n    var month = date.getUTCMonth() + 1; //months from 1-12\r\n    var day = date.getUTCDate();\r\n    var year = date.getUTCFullYear();\r\n    return `${year}-${(+month > 10) ? month : '0' + month}-${(+day > 10) ? day : '0' + day}T00:00`\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: true\r\n})\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET', data)\r\n    },\r\n    post(endpoint, data) {\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'get', data = null) {\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            window.location.assign('/#/login')\r\n        }\r\n        throw err\r\n    }\r\n}","import { storageService } from './asyncStorageService.js'\r\nimport { utilService } from './utilService.js';\r\nimport { httpService } from './httpService.js'\r\n\r\nexport const boardService = {\r\n    query,\r\n    getById,\r\n    save,\r\n    changeBg,\r\n    remove,\r\n    addActivity,\r\n    changeBoardTitle,\r\n    toggleUser\r\n}\r\n\r\nasync function query() {\r\n    const boards = await httpService.get('board');\r\n    return boards;\r\n}\r\n\r\nfunction getById(id) {\r\n    return httpService.get(`board/${id}`)\r\n}\r\n\r\nfunction remove(id) {\r\n    return httpService.delete(`board/${id}`)\r\n}\r\n\r\nasync function save(board) {\r\n    if (board._id) {\r\n        return await httpService.put(`board/${board._id}`, board)\r\n    } else {\r\n        return await httpService.post('board', board)\r\n    }\r\n}\r\n\r\nfunction changeBg(pick, imgUrl, bgColor, board) {\r\n    if (pick === 'photos') return board.style = { ...board.style, imgUrl }\r\n    board.style = { bgColor }\r\n}\r\n\r\nfunction addActivity(loggedInUser, board, group, action, task) {\r\n    const date = new Date()\r\n    const createdAt = utilService.convertToCreatedAtDate(date)\r\n    const member = (loggedInUser) ? loggedInUser : { fullname: 'guest' }\r\n    const newActivity = {\r\n        byMember: member,\r\n        createdAt,\r\n        id: 'a' + utilService.makeId(),\r\n        task,\r\n        group,\r\n        txt: action\r\n    }\r\n    board.activities = [newActivity, ...board.activities]\r\n\r\n}\r\n\r\nfunction changeBoardTitle(board, newBoardTitle) {\r\n    if (!newBoardTitle) return false\r\n    board.title = newBoardTitle\r\n    return true\r\n}\r\n\r\n\r\nfunction toggleUser(board, user) {\r\n    var userIdx = -1\r\n    userIdx = board.members?.findIndex(boardMember => boardMember._id === user._id)\r\n    if (userIdx >= 0) {\r\n        board.members.splice(userIdx, 1)\r\n    } else {\r\n        if (!board.members) board.members = []\r\n        board.members = [...board.members, {\r\n            _id: user._id,\r\n            fullname: user.fullname,\r\n            imgUrl: user.imgUrl || ''\r\n        }]\r\n    }\r\n}","import io from 'socket.io-client'\r\nimport { httpService } from './httpService'\r\n\r\nexport const SOCKET_EVENT_BOARD_UPDATED = 'board-updated';\r\n\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? '' : '//localhost:3030'\r\nexport const socketService = createSocketService()\r\n// export const socketService = createDummySocketService()\r\n\r\nwindow.socketService = socketService\r\n\r\nvar socketIsReady = false;\r\n// socketService.setup()\r\n\r\n\r\nfunction createSocketService() {\r\n    var socket = null;\r\n    const socketService = {\r\n        async setup() {\r\n            if (socket) return\r\n            await httpService.get('setup-session')\r\n            socket = io(baseUrl, { reconnection: false })\r\n            socketIsReady = true;\r\n        },\r\n        async on(eventName, cb) {\r\n            if (!socket) await socketService.setup()\r\n            socket.on(eventName, cb)\r\n        },\r\n        async off(eventName, cb = null) {\r\n            if (!socket) await socketService.setup()\r\n            if (!cb) socket.removeAllListeners(eventName)\r\n            else socket.off(eventName, cb)\r\n        },\r\n        async emit(eventName, data) {\r\n            if (!socket) await socketService.setup()\r\n            await socket.emit(eventName, data)\r\n        },\r\n        terminate() {\r\n            socket = null\r\n            socketIsReady = false\r\n        }\r\n    }\r\n    return socketService\r\n}\r\n\r\n// eslint-disable-next-line\r\nfunction createDummySocketService() {\r\n    var listenersMap = {}\r\n    const socketService = {\r\n        listenersMap,\r\n        setup() {\r\n            listenersMap = {}\r\n        },\r\n        terminate() {\r\n            this.setup()\r\n        },\r\n        on(eventName, cb) {\r\n            listenersMap[eventName] = [...(listenersMap[eventName]) || [], cb]\r\n        },\r\n        off(eventName, cb) {\r\n            if (!listenersMap[eventName]) return\r\n            if (!cb) delete listenersMap[eventName]\r\n            else listenersMap[eventName] = listenersMap[eventName].filter(l => l !== cb)\r\n        },\r\n        emit(eventName, data) {\r\n            if (!listenersMap[eventName]) return\r\n            listenersMap[eventName].forEach(listener => {\r\n                listener(data)\r\n            })\r\n        },\r\n        debugMsg() {\r\n            this.emit('chat addMsg', { from: 'Someone', txt: 'Aha it worked!' })\r\n        },\r\n    }\r\n    return socketService\r\n}\r\n\r\n\r\n// Basic Tests\r\n// function cb(x) { console.log(x) }\r\n// socketService.on('baba', cb)\r\n// socketService.on('mama', cb)\r\n// socketService.on('lala', cb)\r\n// socketService.emit('baba', 'DATA')\r\n// socketService.off('baba', cb)\r\n\r\n\r\n","import { boardService } from '../../services/boardService'\r\nimport { socketService, SOCKET_EVENT_BOARD_UPDATED } from '../../services/socketService'\r\n\r\nexport function loadBoards() {\r\n    return async dispatch => {\r\n        try {\r\n            const boards = await boardService.query()\r\n            dispatch({ type: 'SET_BOARDS', boards })\r\n                // socketService.on(SOCKET_EVENT_BOARD_ADDED, board =>{\r\n                //   dispatch({ type: 'ADD_BOARD', board })\r\n                // })\r\n        } catch (err) {}\r\n    }\r\n}\r\n\r\nexport function saveBoard(board) {\r\n    const type = board._id ? 'UPDATE_BOARD' : 'ADD_BOARD'\r\n    return async dispatch => { \r\n        try {\r\n            const savedBoard = await boardService.save(board)\r\n            dispatch({ type, board: savedBoard })\r\n            socketService.emit('board updated', board)\r\n        } catch (err) {\r\n            console.log('BoardActions: err in save/update board', err)\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function removeBoard(boardId) {\r\n    return async dispatch => {\r\n        try {\r\n            await boardService.remove(boardId)\r\n            dispatch({ type: 'REMOVE_BOARD', boardId })\r\n        } catch (err) {\r\n            console.log('BoardActions: err in removeBoard', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function setBoard(boardId) { // Action Creator\r\n    return async dispatch => {\r\n        try {\r\n            const board = await boardService.getById(boardId)\r\n            dispatch({ type: 'SET_CURR_BOARD', currBoard: board })\r\n        } catch (err) {\r\n            console.log('BoardActions: err in setBoard', err)\r\n        }\r\n    }\r\n}","// import { storageService } from './asyncStorageService'\r\nimport { httpService } from './httpService'\r\nconst SCORE_FOR_REVIEW = 10\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n    increaseScore\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n\r\nfunction getUsers() {\r\n    // return storageService.query('user')\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get('user', userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove('user', userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // return storageService.put('user', user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\nasync function increaseScore(by = SCORE_FOR_REVIEW) {\r\n    const user = getLoggedinUser()\r\n    user.score = user.score + by || by\r\n    await update(user)\r\n    return user.score\r\n}\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query('user')\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n    // const user = await storageService.post('user', userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n}\r\n\r\n","import { userService } from '../../services/userService'\r\n\r\n// THUNK action creators\r\n// Work asynchronously with the service and dispatch actions to the reducers \r\n\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}\r\n","\r\nexport function DeleteBoardConfirm({ onToggleDelete, board, onRemoveBoard }) {\r\n    function divClick(ev) {\r\n        ev.stopPropagation()\r\n        ev.preventDefault()\r\n    }\r\n    return (\r\n        <div onClick={onToggleDelete} className='delete-board-window'>\r\n            <div onClick={(ev) => divClick(ev)} className='delete-board-container'>\r\n                <div className='delete-board-header'>\r\n                    <div className='title'>Do you want to remove board: <span>\"{board.title}\"</span>?</div>\r\n                </div>\r\n                <div className='delete-board-controls'>\r\n                    <button className='delete-board-btn' onClick={(ev) => onRemoveBoard(board._id, ev)}>Delete</button>\r\n                    <button className='cancel-delete-board-btn' onClick={onToggleDelete}>cancel</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { Link } from 'react-router-dom'\r\nimport React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { removeBoard } from '.././store/actions/boardActions.js'\r\nimport { DeleteBoardConfirm } from './DeleteBoardConfirm.jsx'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nclass _BoardPreview extends React.Component {\r\n\r\n    state = {\r\n        isDeleteBoardOpen: false\r\n    }\r\n\r\n    onToggleDelete = (ev) => {\r\n        ev.preventDefault()\r\n        this.setState({ isDeleteBoardOpen: !this.state.isDeleteBoardOpen })\r\n    }\r\n    onRemoveBoard = (boardId, ev) => {\r\n        ev.preventDefault()\r\n        this.props.removeBoard(boardId)\r\n    }\r\n\r\n    render() {\r\n        const { board } = this.props\r\n        const { isDeleteBoardOpen } = this.state\r\n        const img = board.style?.imgUrl\r\n        const clr = board.style?.bgColor\r\n        return (\r\n            <Link to={`/board/${board._id}`} key={board._id} style={{ textDecoration: 'none' }}>\r\n                <div key={board._id} className=\"board-preview\" style={(img) ? { backgroundImage: `url(${img})` } : { backgroundColor: clr }}>\r\n                    <h3>{board.title}</h3>\r\n                    <button className=\"delete-button\" onClick={this.onToggleDelete}><DeleteIcon className='delete-board-svg' /> Delete</button>\r\n                    {isDeleteBoardOpen &&\r\n                        <DeleteBoardConfirm onToggleDelete={this.onToggleDelete} board={board} onRemoveBoard={this.onRemoveBoard} />\r\n                    }\r\n                </div>\r\n            </Link>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    removeBoard\r\n}\r\n\r\n\r\nexport const BoardPreview = connect(null, mapDispatchToProps)(_BoardPreview)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { saveBoard } from '../store/actions/boardActions.js'\r\nimport Plus from '../assets/imgs/plus.png'\r\n\r\nclass _BoardCreate extends React.Component {\r\n\r\n    state = {\r\n        isCreateHidden: true,\r\n        board: {\r\n            title: '',\r\n            style: {\r\n                imgUrl: '',\r\n                bgColor: ''\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleModalVisibility = (boolean) => {\r\n        this.setState({ isCreateHidden: boolean })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        this.setState({ board: { ...this.state.board, [ev.target.name]: ev.target.value } })\r\n    }\r\n\r\n    handleBackground = (ev) =>{\r\n        const style = {imgUrl: ev.target.src, bgColor: ev.target.style.backgroundColor}\r\n        this.setState({ board: { ...this.state.board, style}})\r\n    }\r\n\r\n    onCreateBoard = (ev) => {\r\n\r\n        ev.preventDefault()\r\n        if (!this.state.board.title) return\r\n        this.props.saveBoard(this.state.board)\r\n        this.setState({isCreateHidden: true, board: { title: '', style: {imgUrl: '', bgColor: ''}}})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"board-create\" onClick={() => { this.toggleModalVisibility(false) }}>\r\n                    <img className=\"plus-icon\" alt = \"\" src={Plus} />\r\n                </div>\r\n                <form className=\"create-board\" hidden={this.state.isCreateHidden} onSubmit={this.onCreateBoard} autoComplete=\"off\">\r\n                    <input autoComplete='off' type=\"text\" name=\"title\" placeholder=\"Enter Board Name...\" onChange={this.handleChange} value={this.state.board.title}></input>\r\n                    <div className=\"board-background-options\">\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#60be50'}}></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img   src=\"https://bit.ly/3yLM7uN\" alt=\"\"/></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#0279bf'}}></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3uVKA2j\" alt=\"\"/></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#ff9f1a'}}></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3i3i4c9\" alt=\"\"/></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground} style={{backgroundColor: '#eb5a46'}}></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3c574Hw\" alt=\"\"/></div>\r\n                        <div className=\"board-background-thumb\" onClick={this.handleBackground}><img src=\"https://bit.ly/3p5Xiuc\" alt=\"\"/></div>\r\n                    </div>\r\n                    <button>Create</button>\r\n                    <button onClick={() => { this.toggleModalVisibility(true) }}>Cancel</button>\r\n                </form>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        boards: state.boardModule.boards\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    saveBoard\r\n}\r\n\r\n\r\nexport const BoardCreate = connect(mapStateToProps, mapDispatchToProps)(_BoardCreate)","export default \"data:image/png;base64,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\"","import { BoardPreview } from './BoardPreview'\r\nimport { BoardCreate } from './BoardCreate'\r\n\r\nexport function BoardList({ boards }) {\r\n    return (\r\n        <section className=\"board-list\">\r\n\r\n            <div className=\"new-board\">\r\n                <BoardCreate />\r\n            </div>\r\n\r\n            {boards.map(board => <div key={board._id}><BoardPreview board={board} /></div>)}\r\n\r\n        </section>\r\n    )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { loadBoards, saveBoard } from '../store/actions/boardActions.js'\r\nimport { loadUsers } from '../store/actions/userActions.js'\r\nimport { BoardList } from '../cmps/BoardList'\r\n\r\nclass _BoardPage extends React.Component {\r\n\r\n    state = {\r\n        isCreateHidden: true,\r\n        board: {\r\n            \"title\": '',\r\n            \"bgColor\": '#000'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.loadBoards()\r\n        this.props.loadUsers()\r\n    }\r\n\r\n    toggleModalVisibility = (boolean) => {\r\n        this.setState({isCreateHidden : boolean})\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        this.setState({ board: { ...this.state.board, [ev.target.name]: ev.target.value } })\r\n    }\r\n\r\n    onCreateBoard = (ev) => {\r\n        ev.preventDefault()\r\n        this.props.saveBoard(this.state.board)\r\n        this.setState({ isCreateHidden: true })\r\n    }\r\n\r\n    render() {\r\n        const { boards } = this.props\r\n        const { users } = this.props\r\n        if (!boards) return <div>Loading...</div>\r\n        return (\r\n            <section className=\"board-page\">\r\n                <h1>Your Boards</h1>\r\n                <BoardList boards={boards}/>\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        boards: state.boardModule.boards,\r\n        users: state.userModule.users\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadBoards,\r\n    saveBoard,\r\n    loadUsers\r\n}\r\n\r\n\r\nexport const BoardPage = connect(mapStateToProps, mapDispatchToProps)(_BoardPage)","import { utilService } from './utilService.js'\r\n\r\nexport const taskService = {\r\n    getPreview,\r\n    getDatePreview,\r\n    addTask,\r\n    updateTask,\r\n    deleteTask,\r\n    getTaskById,\r\n    addLabel,\r\n    onRemoveLabel,\r\n    checkLabel,\r\n    toggleTaskMember,\r\n    addComment,\r\n    setTaskDate,\r\n    getTimeStemp,\r\n}\r\n\r\nfunction getPreview(checklists) {\r\n    var todosSum = 0\r\n    var doneTodosSum = 0\r\n    checklists?.forEach(checklist => {\r\n        const currTodosSum = checklist?.todos.length || 0\r\n        var currDoneTodosSum = checklist?.todos.filter(todo => todo.isDone).length\r\n        currDoneTodosSum = (!currDoneTodosSum) ? 0 : currDoneTodosSum\r\n        todosSum += currTodosSum\r\n        doneTodosSum += currDoneTodosSum\r\n    })\r\n    return `${doneTodosSum}/${todosSum}`\r\n}\r\n\r\nfunction getDatePreview(currDate) {\r\n    const month = currDate.substring(5, 7)\r\n    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\r\n        \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n    ];\r\n    const monthName = monthNames[month - 1].substring(0, 3)\r\n    const day = +currDate.substring(8, 10)\r\n    return `${monthName} ${day}`\r\n\r\n}\r\n\r\nfunction setTaskDate(task, date) {\r\n    task.dueDate = {\r\n        date,\r\n        complete: false\r\n    }\r\n}\r\n\r\nfunction addTask(board, groupId, newTitle, loggedInUser) {\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    if (!board.groups[groupIdx].tasks) board.groups[groupIdx].tasks = []\r\n    const newTask = {\r\n        id: 'c' + utilService.makeId(),\r\n        title: newTitle,\r\n        style: {\r\n            imgUrl: '',\r\n            bgColor: ''\r\n        },\r\n        byMember: loggedInUser,\r\n        comments: [],\r\n        attachments: []\r\n    }\r\n    board.groups[groupIdx].tasks = [...board.groups[groupIdx].tasks, newTask]\r\n    return newTask\r\n}\r\n\r\nfunction addComment(task, txt, comment) {\r\n    var commentIdx = -1\r\n    if (!task.comments) task.comments = [];\r\n    commentIdx = task.comments?.findIndex(taskcomment => taskcomment?.id === comment?.id)\r\n    if (commentIdx >= 0) {\r\n        task.comments.splice(commentIdx, 1)\r\n    } else {\r\n        const comment = {\r\n            \"id\": \"ZdPnm\",\r\n            \"txt\": txt,\r\n            \"createdAt\": utilService.makeId(),\r\n            \"byMember\": {\r\n                \"_id\": \"u101\",\r\n                \"fullname\": \"Tal Tarablus\",\r\n                \"imgUrl\": \"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg\"\r\n            }\r\n        }\r\n        task.comments.push(comment)\r\n    }\r\n}\r\n\r\nfunction updateTask(board, groupId, updatedTask) {\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    const updatedTaskId = board.groups[groupIdx].tasks.findIndex(task => task.id === updatedTask.id)\r\n    board.groups[groupIdx].tasks.splice(updatedTaskId, 1, updatedTask)\r\n}\r\n\r\nfunction deleteTask(board, groupId, taskId) {\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    const taskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\r\n    board.groups[groupIdx].tasks.splice(taskIdx, 1)\r\n}\r\n\r\nfunction getTaskById(taskId, groupId, board) {\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    const task = board.groups[groupIdx].tasks.find(task => task.id === taskId)\r\n    return task\r\n}\r\n\r\nfunction addLabel(board, groupId, taskId, labelId) {\r\n    const fitLabelId = labelId.substring(1, labelId.length)\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    const TaskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\r\n    let labelIds = board.groups[groupIdx].tasks[TaskIdx].labelIds\r\n    if (!labelIds) return board.groups[groupIdx].tasks[TaskIdx].labelIds = [fitLabelId]\r\n    labelIds.push(fitLabelId)\r\n}\r\n\r\nfunction onRemoveLabel(board, groupId, taskId, labelId) {\r\n    const fitLabelId = labelId.substring(1, labelId.length)\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    const TaskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\r\n    let labelIds = board.groups[groupIdx].tasks[TaskIdx].labelIds\r\n    const labelIdx = labelIds.findIndex(currLabelId => currLabelId === fitLabelId)\r\n    labelIds.splice(labelIdx, 1)\r\n}\r\n\r\nfunction checkLabel(board, groupId, taskId, labelId) {\r\n    const fitLabelId = labelId.substring(1, labelId.length)\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    const TaskIdx = board.groups[groupIdx].tasks.findIndex(task => task.id === taskId)\r\n    let labelIds = board.groups[groupIdx].tasks[TaskIdx].labelIds\r\n    if (!labelIds) return false\r\n    const labelIdx = labelIds.findIndex(currLabelId => currLabelId === fitLabelId)\r\n    if (labelIdx === -1) return false\r\n    return true\r\n}\r\n\r\nfunction toggleTaskMember(task, member) {\r\n    var memberIdx = -1\r\n    memberIdx = task.members?.findIndex(taskMember => taskMember._id === member._id)\r\n    if (memberIdx >= 0) {\r\n        task.members.splice(memberIdx, 1)\r\n    } else {\r\n        if (!task.members) task.members = []\r\n        task.members.push(member)\r\n    }\r\n}\r\n\r\nfunction getTimeStemp(){\r\n    const event = new Date();\r\n    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\r\n    return event.toLocaleDateString(undefined, options)\r\n}\r\n","import React from 'react'\r\n// import { Link } from 'react-router-dom'\r\n\r\n\r\nexport function LabelPreview({ lable, isLabelsOpen, from }) {\r\n\r\n    return (\r\n        <div className={`label ${isLabelsOpen ? 'open' : ''}`} style={{ backgroundColor: lable.color }}>\r\n            {isLabelsOpen || from === 'details' ? lable.title : ''}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n","import { Component } from 'react';\r\n\r\nimport React from 'react'\r\n\r\nexport class LabelEdit extends Component {\r\n\r\n    state = {\r\n        currLabel: null,\r\n        label: {\r\n            title: '',\r\n            color: ''\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.setState({ currLabel: this.props.currLabel })\r\n    }\r\n    onSaveLabel = (ev) => {\r\n        ev.preventDefault()\r\n        const currLabel = this.state.currLabel\r\n        if (currLabel) {\r\n            this.props.toggleEditLabel()\r\n            return this.props.updateLabel(currLabel, this.state.label)\r\n\r\n        }\r\n        this.props.toggleEditLabel()\r\n        this.props.addLabelToBoard(this.state.label)\r\n    }\r\n    handleChange = (ev) => {\r\n        ev.preventDefault()\r\n        const value = ev.target.value;\r\n        const key = ev.target.name;\r\n        this.setState({ label: { [key]: value } });\r\n    }\r\n    setLabelColor = (color) => {\r\n        this.setState({ label: { ...this.state.label, color } })\r\n    }\r\n    render() {\r\n        const { currLabel } = this.state\r\n        const { toggleEditLabel } = this.props\r\n        return (\r\n            <div className='edit-label-container'>\r\n                <div className='edit-label-header'>\r\n                    <div className='title'>{(currLabel) ? 'Edit Label' : 'Create Label'}</div>\r\n                    <button className='close-edit-label-btn' onClick={toggleEditLabel}>X</button>\r\n                </div>\r\n                <form className='edit-label-form'>\r\n                    <label >Name</label>\r\n                    <input autoComplete='off' type=\"text\" name='title' onChange={this.handleChange} placeholder={(currLabel) ? currLabel.title : 'Add label title...'} />\r\n                    <label >Select a color</label>\r\n                    <div className='edit-label-colors-pick'>\r\n                        <div onClick={() => this.setLabelColor('#f1d600')} style={{ backgroundColor: '#f1d600' }} className='color #f1d600'></div>\r\n                        <div onClick={() => this.setLabelColor('#ff9f1a')} style={{ backgroundColor: '#ff9f1a' }} className='color #ff9f1a'></div>\r\n                        <div onClick={() => this.setLabelColor('#eb5a46')} style={{ backgroundColor: '#eb5a46' }} className='color #eb5a46'></div>\r\n                        <div onClick={() => this.setLabelColor('#c377e0')} style={{ backgroundColor: '#c377e0' }} className='color #c377e0'></div>\r\n                        <div onClick={() => this.setLabelColor('#0279bf')} style={{ backgroundColor: '#0279bf' }} className='color #0279bf'></div>\r\n                        <div onClick={() => this.setLabelColor('#00c2e0')} style={{ backgroundColor: '#00c2e0' }} className='color #00c2e0'></div>\r\n                        <div onClick={() => this.setLabelColor('#60be50')} style={{ backgroundColor: '#60be50' }} className='color #60be50'></div>\r\n                        <div onClick={() => this.setLabelColor('#50e898')} style={{ backgroundColor: '#50e898' }} className='color #50e898'></div>\r\n                        <div onClick={() => this.setLabelColor('#fe78cb')} style={{ backgroundColor: '#fe78cb' }} className='color #fe78cb'></div>\r\n                        <div onClick={() => this.setLabelColor('#344563')} style={{ backgroundColor: '#344563' }} className='color #344563'></div>\r\n                        <div onClick={() => this.setLabelColor('#b3bac5')} style={{ backgroundColor: '#b3bac5' }} className='color #b3bac5'></div>\r\n                    </div>\r\n                    <div className='edit-label-controls'>\r\n                        <button onClick={this.onSaveLabel} className='confirm-btn'>{(currLabel) ? 'Update' : 'Create'}</button>\r\n                        {(currLabel)&&\r\n                            <button className='delete-btn'>Delete</button>\r\n                        }\r\n\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n","import { Component } from 'react';\r\nimport { LabelEdit } from './LabelEdit.jsx'\r\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\r\nimport EditOutlinedIcon from '@material-ui/icons/EditOutlined';\r\nimport React from 'react'\r\n\r\nexport class LabelsList extends Component {\r\n\r\n    state = {\r\n        isEditLabelOpen: false,\r\n        currLabel: null\r\n    }\r\n    onLabelToggle = (taskId, labelId) => {\r\n        if (this.props.checkLabel(taskId, labelId)) {\r\n            return this.props.onRemoveLabel(taskId, labelId)\r\n        }\r\n        this.props.onAddLabel(taskId, labelId)\r\n    }\r\n\r\n    toggleEditLabel = (label = null) => {\r\n        this.setState({ isEditLabelOpen: !this.state.isEditLabelOpen })\r\n        this.setState({ currLabel: label })\r\n    }\r\n    checkIfLabelInTask = (currLabelId) => {\r\n        const fitLabelId = currLabelId.substring(1)\r\n        return this.props.task.labelIds?.some(labelId => labelId === fitLabelId)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isEditLabelOpen } = this.state\r\n        const { task, board, toggleEditLabels } = this.props\r\n        return (<React.Fragment>\r\n\r\n            {!isEditLabelOpen &&\r\n                <div className='edit-labels-container'>\r\n                    <div className='edit-labels-header'>\r\n                        <div className='title'>List Actions</div>\r\n                        <button className='close-edit-labels-btn' onClick={toggleEditLabels}>X</button>\r\n                    </div>\r\n                    {(board.labels) ?\r\n                        <div className='labels'>\r\n                            {board.labels.map(label => {\r\n                                return <div key={label.id} className='label-preview'>\r\n                                    <div style={{ backgroundColor: label.color }} className='label-title' onClick={() => this.onLabelToggle(task.id, label.id)}>{label.title}\r\n                                        {this.checkIfLabelInTask(label.id) && <DoneOutlinedIcon />}</div>\r\n\r\n                                    <button className='open-edit-label-btn' onClick={() => this.toggleEditLabel(label)}><EditOutlinedIcon /></button>\r\n                                </div>\r\n\r\n                            })}\r\n                        </div> : ''}\r\n                    <button className='create-label-btn' onClick={() => this.toggleEditLabel()}>+Create New Label</button>\r\n                </div>}\r\n            {isEditLabelOpen &&\r\n                <LabelEdit updateLabel={this.props.updateLabel} addLabelToBoard={this.props.addLabelToBoard} toggleEditLabel={this.toggleEditLabel} currLabel={this.state.currLabel} />\r\n            }\r\n        </React.Fragment>\r\n        )\r\n\r\n    }\r\n}\r\n\r\n","import { Component, React } from 'react';\r\nimport { Avatar } from '@material-ui/core';\r\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\r\nimport { utilService } from '../services/utilService';\r\n\r\n\r\n\r\nexport class MembersList extends Component {\r\n\r\n    state = {\r\n        isEditLabelOpen: false,\r\n        currLabel: null\r\n    }\r\n\r\n    checkIfMemberInTask = (name) => {\r\n        var patten = new RegExp(name);\r\n        return this.props.task.members?.some(member => {\r\n            return patten.test(member.fullname)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { board, task, toggleEditMembers, toggleTaskMember } = this.props\r\n        return (\r\n            <div className=\"edit-members-container\">\r\n                <div className='edit-members-header'>\r\n                    <h1 className='title' >Members</h1>\r\n                    <button className='close-edit-members-btn' onClick={toggleEditMembers}>x</button>\r\n                </div>\r\n                {board.members && board.members.map(member => {\r\n                    return <div className=\"member-preview\" key={member._id} onClick={() => toggleTaskMember(task, member)}>\r\n                        <Avatar className=\"avatar\" key={member._id} src={member.imgUrl}>{utilService.getNameInitials(member.fullname)}</Avatar>\r\n                        <h4 className='member-name'>{member.fullname}</h4>\r\n                        {this.checkIfMemberInTask(member.fullname) && <DoneOutlinedIcon />}\r\n                    </div>\r\n                })}\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TextField } from '@material-ui/core';\r\nimport { utilService } from '../services/utilService';\r\n\r\nclass _Dates extends React.Component {\r\n\r\n    state = {\r\n        date: null\r\n    }\r\n\r\n    closeDateModal = () => {\r\n        if (this.props.prevPage === 'task-details') return this.props.toggleModal('isEditDateShow')\r\n        this.props.toggleChangeDueDate()\r\n\r\n    }\r\n    onChange = ({ target }) => {\r\n        const { value } = target\r\n        this.props.setDate(value)\r\n        if (this.props.prevPage === 'task-details') return this.props.toggleModal('isEditDateShow')\r\n        this.props.toggleChangeDueDate()\r\n    }\r\n\r\n    render() {\r\n        const { task } = this.props\r\n        // if (!task) return\r\n        return <form className='dates-form flex' noValidate>\r\n            <TextField className=\"dates\"\r\n                id=\"datetime-local\"\r\n                label=\"Due date\"\r\n                type=\"datetime-local\"\r\n                defaultValue={task.dueDate || utilService.convertToCreatedAtDate(new Date())}\r\n                onChange={this.onChange}\r\n                autoFocus={true}\r\n                InputLabelProps={{\r\n                    shrink: true,\r\n                }}\r\n            />\r\n            <button onClick={this.closeDateModal} className='cancel-change-date-btn'>cancel</button>\r\n        </form>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currBoard: state.boardModule.currBoard,\r\n    }\r\n}\r\n\r\nexport const Dates = connect(mapStateToProps)(_Dates)","import { Component } from 'react';\r\nimport { LabelsList } from './LabelsList.jsx'\r\nimport { MembersList } from './MembersList.jsx'\r\nimport React from 'react'\r\nimport { Dates } from './Dates';\r\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\r\nimport PersonOutlineOutlinedIcon from '@material-ui/icons/PersonOutlineOutlined';\r\nimport TodayOutlinedIcon from '@material-ui/icons/TodayOutlined';\r\nimport DeleteOutlineIcon from '@material-ui/icons/DeleteOutline';\r\n\r\nexport class TaskOptions extends Component {\r\n    state = {\r\n        isEditLabelsOpen: false,\r\n        isEditMembersOpen: false,\r\n        isEditDueDateOpen: false,\r\n        task: {\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    onUpdateTask = (task) => {\r\n        this.props.onToggleTaskOptions()\r\n        const updatedTask = { ...task, title: this.state.task.title }\r\n        this.props.onUpdateTask(updatedTask, task)\r\n    }\r\n    handleChange = (ev) => {\r\n        const value = ev.target.value;\r\n        const key = ev.target.name;\r\n        this.setState({ task: { [key]: value } });\r\n    }\r\n\r\n    toggleEditLabels = () => {\r\n        this.setState({ isEditLabelsOpen: !this.state.isEditLabelsOpen })\r\n    }\r\n    toggleEditMembers = () => {\r\n        this.setState({ isEditMembersOpen: !this.state.isEditMembersOpen })\r\n    }\r\n    toggleChangeDueDate = () => {\r\n        this.setState({ isEditDueDateOpen: !this.state.isEditDueDateOpen })\r\n    }\r\n\r\n    preventDragHandler = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { isEditLabelsOpen, isEditMembersOpen, isEditDueDateOpen } = this.state\r\n        const { checkLabel, updateLabel, addLabelToBoard, onRemoveLabel, onDeleteTask, onToggleTaskOptions, task, board, onAddLabel, toggleTaskMember } = this.props\r\n        return (\r\n            <React.Fragment>\r\n                <div onClick={onToggleTaskOptions} className='task-options-window' ></div>\r\n                <div className='task-options-container'>\r\n                    {isEditDueDateOpen &&\r\n                        <Dates toggleChangeDueDate={this.toggleChangeDueDate} task={task} setDate={this.props.setDate}></Dates>\r\n                    }\r\n                    <div className='change-task-title'>\r\n                        <textarea cols='1' rows='8' type=\"text\" className='new-title-input' placeholder={task.title} name='title' onChange={this.handleChange}></textarea>\r\n                        <button onClick={() => this.onUpdateTask(task)}>Save</button>\r\n                    </div>\r\n                    <div className='options-btns'>\r\n                        <button className='options-btn' onClick={this.toggleEditLabels} ><LabelOutlinedIcon className='svg change-task-labels' />Edit Labels</button>\r\n                        {isEditLabelsOpen &&\r\n                            <LabelsList updateLabel={updateLabel} addLabelToBoard={addLabelToBoard} checkLabel={checkLabel} onRemoveLabel={onRemoveLabel} task={task} onAddLabel={onAddLabel} toggleEditLabels={this.toggleEditLabels} board={board} />\r\n                        }\r\n                        <button className='options-btn' onClick={this.toggleEditMembers} ><PersonOutlineOutlinedIcon className='svg change-task-members' />Change Members</button>\r\n                        {isEditMembersOpen &&\r\n                            <MembersList toggleTaskMember={toggleTaskMember} board={board} task={task} toggleEditMembers={this.toggleEditMembers} />\r\n                        }\r\n                        <button className='options-btn' onClick={this.toggleChangeDueDate} ><TodayOutlinedIcon className='svg edit-task-due-date' />Change Due Date</button>\r\n                        <button className='options-btn' onClick={() => onDeleteTask(task)}><DeleteOutlineIcon className='svg delete-task' /> Delete</button>\r\n                    </div>\r\n\r\n                </div>\r\n            </React.Fragment >\r\n        )\r\n\r\n    }\r\n}\r\n\r\n","import { Component } from 'react';\r\nimport { taskService } from '../services/taskService.js'\r\nimport React from 'react'\r\nimport Avatar from '@material-ui/core/Avatar';\r\n// import { Link } from 'react-router-dom'\r\nimport { Link } from 'react-router-dom'\r\nimport { LabelPreview } from './LabelPreview.jsx'\r\nimport { TaskOptions } from './TaskOptions.jsx';\r\nimport AccessTimeOutlinedIcon from '@material-ui/icons/AccessTimeOutlined';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\r\n\r\nexport class TaskPreview extends Component {\r\n\r\n    state = {\r\n        isTaskOptionsShow: false,\r\n        isLabelsOpen: false\r\n    }\r\n\r\n    getLableById = (labelId) => {\r\n        return this.props.board.labels.find(label => label.id === 'l' + labelId)\r\n    }\r\n\r\n    toggleTaskOptions = () => {\r\n        this.props.toggleDroppable()\r\n        this.setState({ isTaskOptionsShow: !this.state.isTaskOptionsShow })\r\n    }\r\n\r\n    toggleLabels = () => {\r\n        this.setState({ isLabelsOpen: !this.state.isLabelsOpen })\r\n    }\r\n\r\n    convertNumToDate = (deuDate) => {\r\n        if (!deuDate) return\r\n        const date = deuDate.date || deuDate;\r\n        const deuDatePreview = taskService.getDatePreview(date)\r\n        return deuDatePreview\r\n    }\r\n    getChecklistsPreview = (checklists) => {\r\n        const preview = taskService.getPreview(checklists)\r\n        return (preview)\r\n    }\r\n\r\n    setDate = (date) => {\r\n        this.props.setDate(date, this.props.task)\r\n    }\r\n\r\n    render() {\r\n        const { toggleTaskMember, checkLabel, updateLabel, addLabelToBoard, onRemoveLabel, board, group, task, onUpdateTask, onDeleteTask, onAddLabel } = this.props\r\n        const { isTaskOptionsShow, isLabelsOpen } = this.state\r\n        return (\r\n            <article className={`task-container`}>\r\n                {isTaskOptionsShow &&\r\n                    <TaskOptions setDate={this.setDate} toggleTaskMember={toggleTaskMember} updateLabel={updateLabel} addLabelToBoard={addLabelToBoard} checkLabel={checkLabel} onRemoveLabel={onRemoveLabel} onAddLabel={onAddLabel} board={board} onDeleteTask={onDeleteTask} onUpdateTask={onUpdateTask} task={task} onToggleTaskOptions={this.toggleTaskOptions} />}\r\n                {(task.style) ? (task.style.bgColor || task.style.imgUrl) ? <div className='task-cover'>\r\n                    {(task.style) ? (task.style.imgUrl) ? <img className='img-cover' src={task.style.imgUrl} alt=\"\" /> : <div className='bgc-cover' style={{ backgroundColor: task.style.bgColor }}></div> : ''}\r\n                </div> : '' : ''}\r\n                {(task.labelIds) ? <div className='label-list' onClick={this.toggleLabels}>\r\n                    {(task.labelIds) ? task.labelIds.map(labelId => {\r\n                        const label = this.getLableById(labelId)\r\n                        return <LabelPreview isLabelsOpen={isLabelsOpen} key={label.id} lable={label} />\r\n                    }) : ''}\r\n                </div> : ''}\r\n                <Link to={`/board/${board._id}/${group.id}/${task.id}`} className=\"link\"><h5>{task.title}</h5>\r\n                    {(task.dueDate || task.checklists || task.members) ? <div className='badges'>\r\n                        {(task.dueDate) &&\r\n                            <div className='dew-date flex'>\r\n                                <AccessTimeOutlinedIcon className=\"clock\"></AccessTimeOutlinedIcon>\r\n                                {this.convertNumToDate(task.dueDate)}\r\n                            </div>}\r\n\r\n                        {(task.checklists && task.checklists.legnth === 0) ? <div className='checklists-preview'>\r\n                            <CheckBoxOutlinedIcon /> {this.getChecklistsPreview(task.checklists)}\r\n                        </div> : ''}\r\n                        <div className='avatars'>\r\n                            {(task.members) ? task.members.map(member => {\r\n                                return <Avatar key={member._id} className='avatar' alt={member.fullName} src={member.imgUrl} />\r\n                            }) : ''}\r\n                        </div>\r\n                    </div> : ''}\r\n                </Link>\r\n                <button onClick={this.toggleTaskOptions} className='task-options'><MoreHorizIcon className='task-options-svg' /></button>\r\n\r\n            </article>\r\n        )\r\n\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { TaskPreview } from './TaskPreview.jsx'\r\nimport { connect, ReactReduxContext } from 'react-redux'\r\nimport { setBoard, loadBoards, saveBoard } from '../store/actions/boardActions.js'\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\nclass _TaskList extends React.Component {\r\n\r\n    state = {\r\n        isDragDisabled: false\r\n    }\r\n    listRef = React.createRef()\r\n\r\n    componentDidUpdate() {\r\n        if (this.props.isScroll)\r\n            this.listRef.current.scrollIntoView({ behavior: 'smooth' })\r\n    }\r\n\r\n    render() {\r\n        const { toggleTaskMember, isAddTaskOpen, onToggleAddTask, handleTaskChange, onAddTask, group, newTaskTitle, isScroll } = this.props\r\n        const { isDragDisabled } = this.state;\r\n        return (\r\n\r\n            <Droppable droppableId={this.props.group.id}>\r\n\r\n                {(provided) => (\r\n                    <div className=\"task-list\" {...provided.droppableProps} ref={provided.innerRef}>\r\n                        {group.tasks && this.props.tasks.map((task, index) => {\r\n                            return (\r\n                                <Draggable isDragDisabled={this.props.isDragDisabled} key={task.id} draggableId={task.id} index={index}>\r\n                                    {(provided) => (\r\n                                        <div\r\n                                            {...provided.draggableProps}\r\n                                            {...provided.dragHandleProps}\r\n                                            ref={provided.innerRef}>\r\n                                            <TaskPreview setDate={this.props.setDate} toggleDroppable={this.props.toggleDroppable} toggleTaskMember={toggleTaskMember} updateLabel={this.props.updateLabel} addLabelToBoard={this.props.addLabelToBoard} checkLabel={this.props.checkLabel} onRemoveLabel={this.props.onRemoveLabel} onUpdateTask={this.props.onUpdateTask} onAddLabel={this.props.onAddLabel} onDeleteTask={this.props.onDeleteTask} board={this.props.board} task={task} group={this.props.group} />\r\n                                        </div>\r\n                                    )}\r\n                                </Draggable>\r\n                            )\r\n                        })\r\n                        }\r\n\r\n\r\n                        {isAddTaskOpen &&\r\n\r\n                            <form ref={this.listRef} className='add-task-form' onSubmit={onToggleAddTask}>\r\n                                <textarea  name='title' placeholder='Enter a title for this card...' className='task-title-input' cols=\"5\" rows=\"5\" onChange={handleTaskChange}></textarea>\r\n                                <div className='add-task-controls'>\r\n                                    <button className='add-task-add-btn' onClick={() => onAddTask(group, newTaskTitle)}>Add card</button>\r\n                                    <button className='add-task-close-btn' onClick={this.onToggleAddTask}> X </button>\r\n                                </div>\r\n                            </form>\r\n                        }\r\n                        {provided.placeholder}\r\n                    </div>\r\n                )\r\n                }\r\n            </Droppable>\r\n            // </DragDropContext>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currBoard: state.boardModule.currBoard,\r\n        boards: state.boardModule.boards,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setBoard,\r\n    loadBoards,\r\n    saveBoard\r\n}\r\n\r\nexport const TaskList = connect(mapStateToProps, mapDispatchToProps)(_TaskList)","import { Component } from 'react';\r\n\r\nimport React from 'react'\r\n\r\nexport class GroupOptions extends Component {\r\n\r\n\r\n    render() {\r\n        const { onToggleGroupOptions, onToggleAddTask, onDeleteGroup, onCopyGroup } = this.props\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <div onClick={onToggleGroupOptions} className='group-options-window'></div>\r\n                <div className='group-options-container'>\r\n                    <div className='group-options-header'>\r\n                        <div className='title'>List Actions</div>\r\n                        <button className='close-group-options-btn' onClick={onToggleGroupOptions}>X</button>\r\n                    </div>\r\n                    <button onClick={onToggleAddTask}>Add Card...</button>\r\n                    <button onClick={onCopyGroup}>Copy List...</button>\r\n                    <button onClick={onDeleteGroup}>Delete List...</button>\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\nimport { TaskList } from './TaskList.jsx'\r\nimport { GroupOptions } from './GroupOptions.jsx'\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\n\r\n\r\nexport class Group extends React.Component {\r\n    state = {\r\n        isGroupOptionOpen: false,\r\n        isAddTaskOpen: false,\r\n        isChangeGroupNameOpen: false,\r\n        isScroll: false,\r\n        group: {\r\n            title: ''\r\n        },\r\n        task: {\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    handleTaskChange = (ev) => {\r\n        const value = ev.target.value;\r\n        const key = ev.target.name;\r\n        this.setState({ task: { [key]: value } });\r\n    }\r\n    handleGroupChange = (ev) => {\r\n        const value = ev.target.value;\r\n        const key = ev.target.name;\r\n        this.setState({ group: { [key]: value } });\r\n    }\r\n\r\n    onToggleAddTask = () => {\r\n        this.props.toggleDroppable()\r\n        this.setState({ isScroll: !this.state.isScroll})\r\n        this.setState({ isGroupOptionOpen: false })\r\n        this.setState({ isAddTaskOpen: !this.state.isAddTaskOpen })\r\n    }\r\n\r\n    onToggleGroupOptions = () => {\r\n        this.props.toggleDroppable()\r\n        this.setState({ isAddTaskOpen: false })\r\n        this.setState({ isGroupOptionOpen: !this.state.isGroupOptionOpen })\r\n    }\r\n\r\n    onDeleteGroup = () => {\r\n        this.onToggleGroupOptions()\r\n        this.props.onDeleteGroup(this.props.group)\r\n\r\n    }\r\n    onCopyGroup = () => {\r\n        this.onToggleGroupOptions()\r\n        this.props.onCopyGroup(this.props.group)\r\n\r\n    }\r\n    onUpdateTask = (updatedTask, task) => {\r\n        this.props.onUpdateTask(this.props.group, updatedTask, task)\r\n\r\n    }\r\n    toggleChangeGroupName = () => {\r\n        this.setState({ isChangeGroupNameOpen: !this.state.isChangeGroupNameOpen })\r\n    }\r\n    onDeleteTask = (task) => {\r\n        this.props.onDeleteTask(this.props.group, task)\r\n\r\n    }\r\n\r\n    onAddLabel = (taskId, labelId) => {\r\n        this.props.onAddLabel(this.props.group.id, taskId, labelId)\r\n    }\r\n    checkLabel = (taskId, labelId) => {\r\n        return this.props.checkLabel(this.props.group.id, taskId, labelId)\r\n    }\r\n    onRemoveLabel = (taskId, labelId) => {\r\n        this.props.onRemoveLabel(this.props.group.id, taskId, labelId)\r\n    }\r\n\r\n    onChangeGroupName = (newGroupTitle) => {\r\n        this.toggleChangeGroupName()\r\n        this.props.changeGroupName(newGroupTitle, this.props.group)\r\n    }\r\n    render() {\r\n\r\n        const { group, board, onAddTask, updateLabel, addLabelToBoard, toggleTaskMember } = this.props\r\n        const newTaskTitle = this.state.task.title\r\n        const newGroupTitle = this.state.group.title\r\n        const { isAddTaskOpen, isGroupOptionOpen, isChangeGroupNameOpen,isScroll } = this.state\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"group\">\r\n                    <div className='header'>\r\n                        {!isChangeGroupNameOpen &&\r\n                            <div className='title' onClick={this.toggleChangeGroupName}>{group.title}</div>}\r\n                        {isChangeGroupNameOpen &&\r\n                            <form onSubmit={() => this.onChangeGroupName(newGroupTitle)}>\r\n                                <input autoComplete='off' onChange={this.handleGroupChange} type=\"text\" name='title' placeholder={group.title} />\r\n                            </form>}\r\n\r\n                        <button className='options' onClick={this.onToggleGroupOptions}>{<MoreHorizIcon className='group-options-svg' />}</button>\r\n                    </div>\r\n\r\n                    <TaskList isScroll={isScroll} isAddTaskOpen={isAddTaskOpen} onToggleAddTask={this.onToggleAddTask} handleTaskChange={this.handleTaskChange} onAddTask={onAddTask} group={group} newTaskTitle={newTaskTitle} setDate={this.props.setDate} isDragDisabled={this.props.isDragDisabled} toggleDroppable={this.props.toggleDroppable} toggleTaskMember={toggleTaskMember} updateLabel={updateLabel} addLabelToBoard={addLabelToBoard} checkLabel={this.checkLabel} onRemoveLabel={this.onRemoveLabel} board={board} onAddLabel={this.onAddLabel} onDeleteTask={this.onDeleteTask} onUpdateTask={this.onUpdateTask} tasks={group.tasks} group={group} />\r\n                    {!isAddTaskOpen &&\r\n                        <button className='add-task-toggle-btn' onClick={this.onToggleAddTask}>+ Add another card</button>}\r\n                    {isGroupOptionOpen &&\r\n                        <GroupOptions onToggleGroupOptions={this.onToggleGroupOptions} onCopyGroup={this.onCopyGroup} onDeleteGroup={this.onDeleteGroup} group={group} onToggleAddTask={this.onToggleAddTask} />}\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n}","import React from 'react'\r\nexport function BgPicksList({ bgPicks, onChangeBg }) {\r\n    const pick = bgPicks\r\n    return (\r\n        <div className='picks'>\r\n            <div className='pick 1' onClick={() => onChangeBg(pick, 'https://bit.ly/3yLM7uN', '#61bd4f')} style={(pick === 'photos') ? { backgroundImage: `url('https://bit.ly/3yLM7uN')` } : { backgroundColor: '#61bd4f' }}></div >\r\n            <div className='pick 2' onClick={() => onChangeBg(pick, 'https://cdn.shopify.com/s/files/1/0257/6718/2416/files/Party-Background-green-with-presents.jpg?v=1595051600', '#f2d600')} style={(pick === 'photos') ? { backgroundImage: `url(https://cdn.shopify.com/s/files/1/0257/6718/2416/files/Party-Background-green-with-presents.jpg?v=1595051600)` } : { backgroundColor: '#f2d600' }}></div >\r\n            <div className='pick 3' onClick={() => onChangeBg(pick, 'https://bit.ly/2Rhir82', '#ff9f1a')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/2Rhir82)` } : { backgroundColor: '#ff9f1a' }}></div >\r\n            <div className='pick 4' onClick={() => onChangeBg(pick, 'https://bit.ly/2S5SicM', '#eb5a46')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/2S5SicM)` } : { backgroundColor: '#eb5a46' }}></div >\r\n            <div className='pick 5' onClick={() => onChangeBg(pick, 'https://bit.ly/3ifWH7t', '#c377e0')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3ifWH7t)` } : { backgroundColor: '#c377e0' }}></div >\r\n            <div className='pick 6' onClick={() => onChangeBg(pick, 'https://bit.ly/3cb6doI', '#0079bf')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3cb6doI)` } : { backgroundColor: '#0079bf' }}></div >\r\n            <div className='pick 7' onClick={() => onChangeBg(pick, 'https://bit.ly/3uOBV1o', '#00c2e0')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3uOBV1o)` } : { backgroundColor: '#00c2e0' }}></div >\r\n            <div className='pick 8' onClick={() => onChangeBg(pick, 'https://bit.ly/3uMTS0u', '#51e898')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3uMTS0u)` } : { backgroundColor: '#51e898' }}></div >\r\n            <div className='pick 9' onClick={() => onChangeBg(pick, 'https://bit.ly/3idR4GZ', '#ff78cb')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3idR4GZ)` } : { backgroundColor: '#ff78cb' }}></div >\r\n            <div className='pick 10' onClick={() => onChangeBg(pick, 'https://bit.ly/34GK1Pl', '#344563')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/34GK1Pl)` } : { backgroundColor: '#344563' }}></div >\r\n            <div className='pick 11' onClick={() => onChangeBg(pick, 'https://bit.ly/3irFJU7', '#b3bac5')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/3irFJU7)` } : { backgroundColor: '#b3bac5' }}></div >\r\n            <div className='pick 12' onClick={() => onChangeBg(pick, 'https://bit.ly/34L6DOp', '#ffffff')} style={(pick === 'photos') ? { backgroundImage: `url(https://bit.ly/34L6DOp)` } : {\r\n                backgroundColor: '#ffffff',\r\n                border: '0.5px solid black'\r\n            }}></div >\r\n\r\n        </div>\r\n\r\n    )\r\n}","import React from 'react'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { BgPicksList } from './BgPicksList.jsx'\r\n\r\nexport class SideBar extends React.Component {\r\n    state = {\r\n        isChangeBgOpen: false,\r\n        isBgPickOpen: false,\r\n        bgPicks: ''\r\n    }\r\n\r\n    onToggleChangeBg = () => {\r\n        this.setState({ isChangeBgOpen: !this.state.isChangeBgOpen })\r\n    }\r\n    onTogglePickBg = (picks) => {\r\n        this.setState({ bgPicks: picks })\r\n        this.setState({ isBgPickOpen: !this.state.isBgPickOpen })\r\n    }\r\n    render() {\r\n        const { isChangeBgOpen, isBgPickOpen, bgPicks } = this.state\r\n        const { onToggleSideBar, board, getDatePreview, onChangeBg } = this.props\r\n        return (\r\n            <React.Fragment>\r\n\r\n                <div onClick={onToggleSideBar} className='side-bar-window'></div>\r\n                <div className=\"side-bar\">\r\n                    <div className='side-bar-header'>\r\n                        {isChangeBgOpen && !isBgPickOpen &&\r\n                            <button className='close-change-bg-btn' onClick={this.onToggleChangeBg}>back</button>\r\n                        }\r\n                        {isChangeBgOpen && isBgPickOpen &&\r\n                            <button className='close-change-bg-btn' onClick={this.onTogglePickBg}>back</button>\r\n                        }\r\n                        <div className='title'>Menu</div>\r\n                        <button className='close-side-bar-btn' onClick={onToggleSideBar}>X</button>\r\n                    </div>\r\n                    {!isChangeBgOpen &&\r\n                        <div className='side-bar-main'>\r\n\r\n                            <div className='change-bg-btn-container'>\r\n                                < button onClick={this.onToggleChangeBg} className='change-bg-btn'>Change Background</button>\r\n                            </div>\r\n                            <h3 className='activities-title'>Activity</h3>\r\n                            <div className='activities-list'>\r\n                                {(board.activities || board.activities.legnth) ? board.activities.map(activity => {\r\n\r\n                                    return <div key={activity.id} className='activity-preview'>\r\n\r\n                                        <Avatar className='avatar' alt={activity.byMember.fullname} src={activity.byMember.imgUrl} />\r\n                                        <div className='activity-txt'>{(!activity.group) ? `${activity.byMember.fullname}: ${activity.txt}` : (activity.task && activity.task.title) ? `${activity.byMember.fullname}: ${activity.txt} \"${activity.task.title}\" in list: \"${activity.group.title}\"` : `${activity.byMember.fullname}: ${activity.txt} \"${activity.group.title}\"`}\r\n                                            <div className='at'>{getDatePreview(activity.createdAt)}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                }) : ''}\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {isChangeBgOpen && !isBgPickOpen &&\r\n                        <div className='change-bg-options'>\r\n                            <div className='photos-option'>\r\n                                <div onClick={() => this.onTogglePickBg('photos')} className='photos-btn'></div>\r\n                                <div className='title'>Photos</div>\r\n                            </div>\r\n                            <div className='colors-option'>\r\n                                <div onClick={() => this.onTogglePickBg('colors')} className='colors-btn'></div>\r\n                                <div className='title'>colors</div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {isBgPickOpen &&\r\n                        <BgPicksList onChangeBg={onChangeBg} bgPicks={bgPicks} isBgPickOpen={isBgPickOpen} />}\r\n\r\n                </div>\r\n\r\n            </React.Fragment >\r\n\r\n\r\n        )\r\n    }\r\n}","import { utilService } from './utilService.js'\r\n\r\nexport const groupService = {\r\n    deleteGroup,\r\n    copyGroup,\r\n    addGroup,\r\n    changeGroupName\r\n}\r\n\r\n\r\n\r\n\r\nfunction addGroup(board, newTitle) {\r\n    const newGroup = {\r\n        id: 'g' + utilService.makeId(),\r\n        title: newTitle,\r\n    }\r\n    board.groups = [...board.groups, newGroup]\r\n    return newGroup\r\n}\r\n\r\nfunction deleteGroup(board, groupId) {\r\n    const groupIdx = board.groups.findIndex(group => group.id === groupId)\r\n    board.groups.splice(groupIdx, 1)\r\n}\r\n\r\nfunction copyGroup(board, group) {\r\n    const groupCopy = { ...group, id: utilService.makeId() }\r\n    const groupIdx = board.groups.findIndex(currGroup => group.id === currGroup.id)\r\n    board.groups.splice(groupIdx, 0, groupCopy)\r\n}\r\n\r\nfunction changeGroupName(newGroupTitle, group) {\r\n    if (!newGroupTitle) return\r\n    group.title = newGroupTitle\r\n}\r\n","import { utilService } from \"./utilService\"\r\n\r\nexport const labelService = {\r\n    updateLabel,\r\n    addLabelToBoard\r\n}\r\n\r\n\r\nfunction updateLabel(board, currLabel, labelUpdates) {\r\n    const currLabelIdx = board.labels.findIndex(label => {\r\n        return label.id === currLabel.id\r\n    })\r\n    labelUpdates = { ...labelUpdates, id: currLabel.id }\r\n    if (!labelUpdates.title) labelUpdates = { ...labelUpdates, title: currLabel.title }\r\n    if (!labelUpdates.color) labelUpdates = { ...labelUpdates, color: currLabel.color }\r\n    board.labels.splice(currLabelIdx, 1, labelUpdates)\r\n}\r\nfunction addLabelToBoard(board, newLabel) {\r\n    if (!newLabel.color) newLabel = { ...newLabel, color: '#b3bac5' }\r\n    newLabel = { ...newLabel, id: 'l' + utilService.makeId() }\r\n    board.labels.push(newLabel)\r\n}\r\n","import CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\r\nimport { Checkbox } from '@material-ui/core';\r\nimport { Component } from 'react';\r\nimport { utilService } from '../services/utilService'\r\nimport React from 'react'\r\n\r\nexport class Checklist extends Component {\r\n\r\n    state = {\r\n        checklists: null\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { checklists } = this.props\r\n        this.setState({ checklists })\r\n    }\r\n\r\n    toggleComplete = (checklistIdx, todoIdx) => {\r\n        const { checklists } = this.state;\r\n        checklists[checklistIdx].todos[todoIdx].isDone = !checklists[checklistIdx].todos[todoIdx].isDone\r\n        this.setState({ ...this.state, checklists }, () => {\r\n            this.props.updateChecklist(this.state.checklists)\r\n        })\r\n    }\r\n\r\n    handleChange = (ev, checklistIdx, todoIdx) => {\r\n        let { name, value } = ev.target;\r\n        const { checklists } = this.state;\r\n        checklists[checklistIdx].todos[todoIdx][name] = value;\r\n        this.setState({ ...this.state, checklists }, () => {\r\n            this.props.updateChecklist(this.state.checklists)\r\n        })\r\n    }\r\n\r\n    addTodo = (checklistIdx) => {\r\n        const { checklists } = this.state;\r\n        checklists[checklistIdx].todos.push({ id: utilService.makeId(), title: '', isDone: false })\r\n        this.setState({ ...this.state, checklists }, () => {\r\n            this.props.updateChecklist(this.state.checklists)\r\n        })\r\n    }\r\n\r\n    removeTodo = (checklistIdx) => {\r\n        const { checklists } = this.state;\r\n        checklists.splice(checklistIdx, 1);\r\n        this.setState({ ...this.state, checklists }, () => {\r\n            this.props.updateChecklist(this.state.checklists)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { checklists } = this.state\r\n        if (!checklists) return <div>loading</div>\r\n        return <div className='checklists'>\r\n            <div className=\"checklist flex column\">\r\n                {checklists.map((checklist, checklistIdx) => {\r\n                    return <div className='todos flex column' key={checklist}>\r\n                        <div className=\"flex container\">\r\n                            <div className=\"flex title\">\r\n                                <CheckBoxOutlinedIcon className=\"icon\" color=\"disabled\" />\r\n                                <h3 className=\"title\">{checklist.title || 'Checklists'}</h3>\r\n                            </div>\r\n                            <button onClick={() => this.removeTodo(checklistIdx)}>Delete</button>\r\n                        </div>\r\n                        {checklist.todos.map((todo, todoIdx) => {\r\n                            return <div className='todo flex' key={checklist}>\r\n                                <Checkbox className=\"checkbox\"\r\n                                    onChange={() => this.toggleComplete(checklistIdx, todoIdx)}\r\n                                    checked={todo.isDone}\r\n                                    cols=\"30\"\r\n                                    rows=\"5\"\r\n                                    wrap=\"off\"\r\n                                    color=\"uncontrolled\" />\r\n                                <input  className=\"title-input\" placeholder='Add an item' defaultValue={todo.title}\r\n                                    style={{ textDecoration: todo.isDone ? 'line-through' : 'none' }}\r\n                                    onChange={(ev) => this.handleChange(ev, checklistIdx, todoIdx)}\r\n                                    name=\"title\"\r\n                                />\r\n                            </div>\r\n                        })\r\n                        }\r\n                        <button onClick={() => this.addTodo(checklistIdx)}>Add an item</button>\r\n                    </div>\r\n                })\r\n                }\r\n\r\n            </div>\r\n        </div>\r\n    }\r\n}","import { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport { Avatar, TextField, Input, Grid, Checkbox } from '@material-ui/core';\r\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\r\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\r\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\r\nimport PersonOutlineOutlinedIcon from '@material-ui/icons/PersonOutlineOutlined';\r\nimport LabelOutlinedIcon from '@material-ui/icons/LabelOutlined';\r\nimport AttachFileOutlinedIcon from '@material-ui/icons/AttachFileOutlined';\r\nimport DescriptionOutlinedIcon from '@material-ui/icons/DescriptionOutlined';\r\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\r\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport CheckBoxOutlinedIcon from '@material-ui/icons/CheckBoxOutlined';\r\nimport VideoLabelIcon from '@material-ui/icons/VideoLabel';\r\n\r\nimport { saveBoard } from '../store/actions/boardActions.js';\r\nimport { taskService } from '../services/taskService.js';\r\nimport { utilService } from '../services/utilService.js';\r\nimport { LabelPreview } from '../cmps/LabelPreview.jsx';\r\nimport { labelService } from '../services/labelService.js';\r\nimport { MembersList } from '../cmps/MembersList';\r\nimport { LabelsList } from '../cmps/LabelsList';\r\nimport { Dates } from '../cmps/Dates';\r\nimport { Checklist } from '../cmps/Checklist'\r\n\r\nclass _TaskDetails extends Component {\r\n\r\n    state = {\r\n        task: null,\r\n        isMembersModalShow: false,\r\n        isLabelsModalShow: false,\r\n        isEditLabelsShow: false,\r\n        isEditDateShow: false,\r\n        isAttachmentShow: false,\r\n        isChooseCoverShow: false,\r\n        isChecklistShow: false,\r\n        comment: {\r\n            txt: '',\r\n        },\r\n        attachment: {\r\n            url: '',\r\n            timestamp: '',\r\n            name: ''\r\n        },\r\n        checklist: {\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { taskId, groupId } = this.props.match.params;\r\n        const board = this.props.currBoard;\r\n        const task = await taskService.getTaskById(taskId, groupId, board);\r\n        this.setState({ ...this.state, task });\r\n    }\r\n\r\n    handleChange = ({ target }) => {\r\n        let { name, value } = target\r\n        const { task } = this.state\r\n        this.setState({ task: { ...task, [name]: value } }, () => {\r\n            const board = this.props.currBoard;\r\n            taskService.updateTask(board, this.props.match.params.groupId, this.state.task)\r\n            this.props.saveBoard(board)\r\n        })\r\n    }\r\n\r\n    // addComment = ({ target }) => {\r\n    //     let { name, value } = target\r\n    //     const { task } = this.state;\r\n    //     const { comment } = this.state;\r\n    //     this.setState({comment: {...comment, [name]: value }}, () => {\r\n    //         setTimeout(()=>{\r\n    //             taskService.addComment(task, value)\r\n    //         },3000)\r\n    //     })\r\n    // }\r\n\r\n\r\n    // getBtnList = () => {\r\n    //     const btns = [\r\n    //         { name: 'Members', icon: <PersonOutlineOutlinedIcon className=\"icon\" /> },\r\n    //         { name: 'Labels', icon: <LabelOutlinedIcon className=\"icon\" /> },\r\n    //         { name: 'Checklist', icon: <ListOutlinedIcon className=\"icon\" /> },\r\n    //         { name: 'Dates', icon: <TodayOutlinedIcon className=\"icon\" /> },\r\n    //         { name: 'Attachment', icon: <AttachFileOutlinedIcon className=\"icon\" /> }];\r\n    //     return btns;\r\n    // }\r\n\r\n    goBack = () => {\r\n        this.props.history.push(`/board/${this.props.match.params.boardId}`)\r\n    }\r\n\r\n    toggleModal = (modal) => {\r\n        this.setState({ ...this.state, [modal]: !this.state[modal] })\r\n    }\r\n\r\n    toggleTaskMember = (task, member) => {\r\n        const board = this.props.currBoard;\r\n        taskService.toggleTaskMember(task, member)\r\n        this.setState({ ...this.state, task }, () => {\r\n            this.props.saveBoard(board)\r\n        })\r\n    }\r\n\r\n    checkIfMemberInTask = (name) => {\r\n        var patten = new RegExp(name);\r\n        return this.state.task.members?.some(member => {\r\n            return patten.test(member.fullname)\r\n        })\r\n    }\r\n\r\n    //dont delete taskId\r\n    checkIfLabelInTask = (taskId, labelId) => {\r\n        if (labelId.charAt() === 'l') labelId = labelId.substring(1)\r\n        return this.state.task.labelIds?.some(taskLabelId => taskLabelId === labelId)\r\n    }\r\n\r\n    toggleEditLabel = (currLabel = null) => {\r\n        this.setState({ ...this.state, isEditLabelsShow: !this.state.isEditLabelsShow, currLabel })\r\n    }\r\n\r\n    getLableById = (labelId) => {\r\n        return this.props.currBoard.labels.find(label => label.id === 'l' + labelId)\r\n    }\r\n\r\n    getLabelProperty = (labelId) => {\r\n        const board = this.props.currBoard;\r\n        return board.labels?.find(label => label.id === 'l' + labelId)\r\n    }\r\n\r\n    onRemoveLabel = (taskId, labelId) => {\r\n        const board = this.props.currBoard\r\n        const { groupId } = this.props.match.params\r\n        taskService.onRemoveLabel(board, groupId, taskId, labelId)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    onAddLabel = (taskId, labelId) => {\r\n        const board = this.props.currBoard\r\n        const { groupId } = this.props.match.params\r\n        taskService.addLabel(board, groupId, taskId, labelId)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    updateLabel = (currLabel, labelUpdates) => {\r\n        const board = this.props.currBoard\r\n        labelService.updateLabel(board, currLabel, labelUpdates)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    addLabelToBoard = (newLabel) => {\r\n        const board = this.props.currBoard\r\n        labelService.addLabelToBoard(board, newLabel)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    convertNumToDate = (deuDate) => {\r\n        if (!deuDate) return\r\n        const deuDatePreview = taskService.getDatePreview(deuDate)\r\n        return deuDatePreview\r\n    }\r\n\r\n    setDate = (date) => {\r\n        const board = this.props.currBoard\r\n        const { task } = this.state\r\n        taskService.setTaskDate(task, date);\r\n        this.setState({ ...this.state, task })\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    changeHandlerFile = ({ target }) => {\r\n        let { name, value } = target\r\n        const { task } = this.state;\r\n        if (!task.attachments) task.attachments = []\r\n        const board = this.props.currBoard\r\n        this.props.saveBoard(board)\r\n        // const { imgUrl } = this.state.style\r\n        this.setState({\r\n            attachment: {\r\n                ...this.state.attachment, [name]: value,\r\n                timestamp: taskService.getTimeStemp()\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSubmissionFile = () => {\r\n        const { attachment } = this.state;\r\n        const { task } = this.state;\r\n        // task.style?.imgurl ? task.style.imgUrl = attachment.url : task.style = \r\n        task.attachments.push(attachment)\r\n        if (!task.style?.imgUrl) task.style = {imgUrl: ''}\r\n        task.style.imgUrl = attachment.url\r\n        const board = this.props.currBoard\r\n        this.props.saveBoard(board)\r\n        this.toggleModal('isAttachmentShow')\r\n    }\r\n\r\n    removeLink = (urlIdx = null) => {\r\n        const { task } = this.state;\r\n        if (task.style.imgUrl) task.style.imgUrl = ''\r\n        task.attachments.splice(urlIdx, 1)\r\n        const board = this.props.currBoard\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    setCover = (style) => {\r\n        if (style && style.imgUrl) return 'img-hight'\r\n        if (style && style.bgColor) return 'bgc-hight'\r\n    }\r\n\r\n    changeCover = (bgColor) => {\r\n        const { task } = this.state;\r\n        task.style.bgColor = bgColor;\r\n        const board = this.props.currBoard\r\n        this.props.saveBoard(board)\r\n        this.toggleModal('isChooseCoverShow')\r\n    }\r\n\r\n    checkIfDateComplete = (date) => {\r\n        const { task } = this.state;\r\n        if (typeof task.dueDate === 'object') {\r\n            return task.dueDate.complete ?\r\n                <div className=\"label complete\">COMPLETE</div> :\r\n                <div className=\"label complete overdue\">OVERDUE</div>\r\n        } else {\r\n            task.dueDate = {\r\n                date,\r\n                complete: false\r\n            }\r\n            const board = this.props.currBoard\r\n            this.props.saveBoard(board)\r\n        }\r\n    }\r\n\r\n    toggleDateComplete = () => {\r\n        const { task } = this.state;\r\n        task.dueDate.complete = !task.dueDate.complete;\r\n        const board = this.props.currBoard\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    updateChecklist = (checklists) => {\r\n        const { task } = this.state;\r\n        if (!task.checklists) task.checklists = [];\r\n        task.checklists = checklists;\r\n        const board = this.props.currBoard\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    onChangeChecklist = ({ target }) => {\r\n        let { value, name } = target\r\n        this.setState({\r\n            checklist: {\r\n                ...this.state.checklist, [name]: value,\r\n            }\r\n        })\r\n    }\r\n\r\n    handleSubmissionChecklist = () => {\r\n        const { task } = this.state;\r\n        if (!task.checklists) task.checklists = [];\r\n        task.checklists.unshift({\r\n            id: utilService.makeId(),\r\n            title: this.state.checklist.title,\r\n            todos: []\r\n        })\r\n        console.log(task)\r\n        const board = this.props.currBoard\r\n        this.props.saveBoard(board)\r\n        this.toggleModal('isChecklistShow')\r\n    }\r\n\r\n    render() {\r\n        const { task, checklist } = this.state\r\n        if (!task) return <div>loading</div>\r\n        console.log(task)\r\n        const description = (task.description) || ''\r\n        const { byMember, comments, members, labelIds, style, attachments, checklists } = task;\r\n        const board = this.props.currBoard;\r\n        const { loggedInUser } = this.props\r\n        const colors = ['#f1d600', '#ff9f1a', '#eb5a46', '#c377e0', '#0279bf', '#00c2e0', '#60be50', '#50e898', '#fe78cb', '#344563', '#b3bac5']\r\n        var date = null\r\n        if (task.dueDate) date = task.dueDate.date || task.dueDate\r\n        return (\r\n            <section className=\"task-details flex\">\r\n                <div className=\"window\" onClick={this.goBack}></div>\r\n                <div className=\"card flex column\">\r\n                    <div className={'cover flex column ' + this.setCover(style)} style={{ backgroundColor: style?.bgColor && !style?.imgUrl ? style.bgColor : '' }}>\r\n                        <CloseOutlinedIcon className='btn task-details-close' onClick={this.goBack} />\r\n                       {style?.bgColor && <button className=\"btn-cover flex\" onClick={() => this.toggleModal('isChooseCoverShow')}>cover <VideoLabelIcon className='icon'/></button>}\r\n                        {style?.imgUrl && <img className='preview-img' src={`${style.imgUrl}`} alt=\"\" />}\r\n                    </div>\r\n                    <div className=\"header\">\r\n                        <div className=\"title flex\">\r\n                            <AssignmentOutlinedIcon className=\"taskIcon\" color=\"disabled\" />\r\n                            <input className=\"title-input\" defaultValue={task.title}\r\n                                onChange={this.handleChange}\r\n                                name=\"title\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"main flex row\">\r\n                        <div className=\"details flex column\">\r\n                            <div className=\"details-labeld-members flex\">\r\n                                {members && <div className=\"members\">\r\n                                    <h3>MEMBERS</h3>\r\n                                    <AvatarGroup max={10}>\r\n                                        {members && members.map(member => {\r\n                                            return <Avatar className=\"avatar\"\r\n                                                key={member._id} src={member.imgUrl}>{utilService.getNameInitials(member.fullname)}</Avatar>\r\n                                        })}\r\n                                        <Avatar className=\"add-avatar\" onClick={() => this.toggleModal('isMembersModalShow')}>+</Avatar>\r\n                                    </AvatarGroup>\r\n                                </div>}\r\n\r\n                                {labelIds && <div className=\"labels flex column\">\r\n                                    <h3>LABELS</h3>\r\n                                    <div className=\"labels flex\">\r\n                                        {labelIds.map(labelId => {\r\n                                            const label = this.getLableById(labelId)\r\n                                            return <LabelPreview from={'details'} key={label.id} lable={label} />\r\n                                        })}\r\n                                        <div className=\"label add-label\" onClick={() => this.toggleModal('isLabelsModalShow')}>+</div>\r\n                                    </div>\r\n                                </div>}\r\n                            </div>\r\n                            {(task.dueDate) &&\r\n                                <div className='dew-date flex column'>\r\n                                    <h3>DUE DATE</h3>\r\n                                    <div className=\"flex\">\r\n                                        <Checkbox className=\"checkbox\"\r\n                                            onChange={this.toggleDateComplete}\r\n                                            checked={task.dueDate?.complete} />\r\n                                        <div className='dew-date-details flex' onClick={() => this.toggleModal('isEditDateShow')}>\r\n                                            <p>{this.convertNumToDate(date)} at {date.substring(11)}</p>\r\n                                            {this.checkIfDateComplete(date)}\r\n                                            <KeyboardArrowDownIcon />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>}\r\n\r\n\r\n                            <div className=\"form flex column\">\r\n                                <div className=\"flex title\">\r\n                                    <DescriptionOutlinedIcon className=\"description-icon\" color=\"disabled\" />\r\n                                    <h3 className=\"title\">Description</h3>\r\n                                </div>\r\n                                <textarea className=\"textarea\"\r\n                                    name=\"description\"\r\n                                    id=\"outlined-multiline-static\"\r\n                                    placeholder=\"add a more detailed description...\"\r\n                                    value={description}\r\n                                    onChange={this.handleChange}>\r\n                                </textarea>\r\n                            </div>\r\n                            {(attachments?.length > 0) && <div >\r\n                                <div className='imgs flex'>\r\n                                    <AttachFileOutlinedIcon className=\"icon\" color=\"disabled\" />\r\n                                    <h3 className=\"title\">Attachment</h3>\r\n                                </div>\r\n                                {attachments.map((attachment, index) => {\r\n                                    return <div className=\"img-details flex\" key={index}>\r\n                                        <div className=\"img-container flex\">\r\n                                            <img className='preview-img' src={attachment.url} alt=\"\" />\r\n                                        </div>\r\n                                        <div className=\"container flex column\">\r\n                                            <p className=\"title\">{attachment.name || 'img.jpng'}</p>\r\n                                            <div className=\"flex\">\r\n                                                <p>Added at: {attachment.timestamp}</p>\r\n                                                <span>-</span>\r\n                                                <p className=\"btn\" onClick={() => this.removeLink(index)}>Delete</p>\r\n                                                <span>-</span>\r\n                                                <p className=\"btn\">Edit</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                })}\r\n                            </div >}\r\n                            {checklists && <Checklist checklists={checklists} updateChecklist={this.updateChecklist}></Checklist>}\r\n                            <div className=\"comments flex column\">\r\n                                {comments && comments.map(comment => {\r\n                                    return <Grid item className=\"comment flex\" key={comment.id}>\r\n                                        {comment.byMember && <Avatar src={comment.byMember.imgUrl} className=\"avatar\">{!comment.byMember.imgUrl && utilService.getNameInitials(comment.byMember.fullname)}</Avatar>}\r\n                                        <Input id=\"input-with-icon-grid\" placeholder=\"Write a comment...\" value={comment.txt}\r\n                                            disableUnderline\r\n                                            fullWidth\r\n                                        /></Grid>\r\n                                })}\r\n                                <Grid item className=\"comment flex\">\r\n                                    {<Avatar src={loggedInUser?.imgUrl || ''} className=\"avatar\">{!loggedInUser?.imgUrl && utilService.getNameInitials(loggedInUser?.fullname || '')}</Avatar>}\r\n                                    <Input id=\"input-with-icon-grid \" placeholder=\"Write a comment...\" value={this.state.comment.txt}\r\n                                        disableUnderline\r\n                                        fullWidth\r\n                                        name=\"txt\"\r\n                                    // onChange={this.addComment}\r\n                                    />\r\n                                </Grid>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"sidebar flex column\">\r\n                            <h3 className=\"sidebar-title\">ADD TO CARD</h3>\r\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isMembersModalShow')}><PersonOutlineOutlinedIcon className=\"icon\" /> Members</button>\r\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isLabelsModalShow')}><LabelOutlinedIcon className=\"icon\" /> Labels</button>\r\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isChecklistShow')}><CheckBoxOutlinedIcon className=\"icon\" /> Checklist</button>\r\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isEditDateShow')}><AccessTimeIcon className=\"icon\" /> Dates</button>\r\n                            <button className=\"btn flex\" onClick={() => this.toggleModal('isAttachmentShow')}><AttachFileOutlinedIcon className=\"icon\" /> Attachment</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {this.state.isMembersModalShow && <MembersList board={board}\r\n                    task={task}\r\n                    toggleEditMembers={() => { this.toggleModal('isMembersModalShow') }}\r\n                    toggleTaskMember={this.toggleTaskMember}></MembersList>}\r\n\r\n                {this.state.isLabelsModalShow && <LabelsList\r\n                    task={task} board={board}\r\n                    toggleEditLabels={() => { this.toggleModal('isLabelsModalShow') }}\r\n                    checkLabel={this.checkIfLabelInTask}\r\n                    onRemoveLabel={this.onRemoveLabel}\r\n                    onAddLabel={this.onAddLabel}\r\n                    updateLabel={this.updateLabel}\r\n                    addLabelToBoard={this.addLabelToBoard}\r\n                ></LabelsList>}\r\n\r\n                {this.state.isEditDateShow && <Dates prevPage={'task-details'} toggleModal={this.toggleModal} task={task} setDate={this.setDate}></Dates>}\r\n\r\n                {this.state.isAttachmentShow && <div className=\"attachment flex column\">\r\n                    <div className=\"flex container\">\r\n                        <label htmlFor=\"text\">Attach a link</label>\r\n                        <CloseOutlinedIcon className='btn task-details-close' onClick={() => this.toggleModal('isAttachmentShow')} />\r\n                    </div>\r\n                    <input type=\"text\" name=\"url\" value={this.state.attachment.url || ''} onChange={this.changeHandlerFile} placeholder=\"Paste any link here...\" />\r\n                    <label htmlFor=\"text\">Link name</label>\r\n                    <input type=\"text\" name=\"name\" value={this.state.attachment.name || ''} onChange={this.changeHandlerFile} />\r\n                    <button onClick={this.handleSubmissionFile}>Attach</button>\r\n                </div>}\r\n\r\n                {this.state.isChooseCoverShow && <div className='colors-pick flex'>\r\n                    <label>Select a color</label>\r\n                    {colors.map((color, index) => {\r\n                        return <div key={index} style={{ backgroundColor: color }} className='color' onClick={() => this.changeCover(color)}></div>\r\n                    })\r\n                    }\r\n                </div>}\r\n                {this.state.isChecklistShow && <div className='checklist attachment'>\r\n                    <div>\r\n                        <h3>Add checklist</h3>\r\n                        <input type=\"text\" name=\"title\" value={checklist.title} onChange={this.onChangeChecklist} placeholder=\"Add checklist title here...\" />\r\n                        <button onClick={this.handleSubmissionChecklist}>Add</button>\r\n                    </div>\r\n                </div>\r\n                }\r\n\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currBoard: state.boardModule.currBoard,\r\n        loggedInUser: state.userModule.loggedInUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    saveBoard,\r\n}\r\n\r\n\r\nexport const TaskDetails = connect(mapStateToProps, mapDispatchToProps)(_TaskDetails)","import { Component, React } from 'react';\r\nimport { Avatar } from '@material-ui/core';\r\nimport DoneOutlinedIcon from '@material-ui/icons/DoneOutlined';\r\nimport { utilService } from '../services/utilService';\r\n\r\n\r\n\r\nexport class AddUsers extends Component {\r\n\r\n    state = {\r\n        isEditLabelOpen: false,\r\n        currLabel: null\r\n    }\r\n\r\n    checkIfMemberInBoard = (name) => {\r\n        var patten = new RegExp(name);\r\n        return this.props.board.members?.some(member => {\r\n            return patten.test(member.fullname)\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const {  users, toggleAddMembers,toggleUser } = this.props\r\n        return (\r\n            <div className=\"edit-users-container\">\r\n                <div className='edit-users-header'>\r\n                    <h1 className='title' >Invite to board</h1>\r\n                    <button className='close-edit-users-btn' onClick={toggleAddMembers}>x</button>\r\n                </div>\r\n                {users && users.map(user => {\r\n                    return <div onClick={() => toggleUser(user)} className=\"users-preview\" key={user._id} >\r\n                        <Avatar className=\"avatar\" key={user._id} src={user.imgUrl}>{utilService.getNameInitials(user.fullname)}</Avatar>\r\n                        <h4 className='users-name'>{user.fullname}</h4>\r\n                        {this.checkIfMemberInBoard(user.fullname) && <DoneOutlinedIcon />}\r\n                    </div>\r\n                })}\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { utilService } from '../services/utilService.js'\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport { AddUsers } from './AddUsers';\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\n\r\nexport class BoardHeader extends React.Component {\r\n    state = {\r\n        isChangeBoardTitleOpen: false,\r\n        isAddMembersOpen: false,\r\n        board: {\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    toggleChangeBoardTitle = () => {\r\n        this.props.onToggleCharts('close')\r\n        this.setState({ isChangeBoardTitleOpen: !this.state.isChangeBoardTitleOpen })\r\n    }\r\n    toggleAddMembers = () => {\r\n        this.props.onToggleCharts('close')\r\n        this.setState({ isAddMembersOpen: !this.state.isAddMembersOpen })\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        ev.preventDefault()\r\n        const value = ev.target.value;\r\n        const key = ev.target.name;\r\n        this.setState({ ...this.state, board: { [key]: value } });\r\n    }\r\n\r\n    onChangeBoardTitle = (newBoardTitle) => {\r\n        this.toggleChangeBoardTitle()\r\n        this.props.changeBoardTitle(newBoardTitle)\r\n    }\r\n\r\n    render() {\r\n        const { board, onToggleSideBar, users, toggleUser, onToggleCharts } = this.props\r\n        const { members } = board\r\n        const { isChangeBoardTitleOpen, isAddMembersOpen } = this.state\r\n        const newBoardTitle = this.state.board.title\r\n        return (\r\n            <div className=\"board-header\">\r\n                <div className=\"header-options\">\r\n                    {!isChangeBoardTitleOpen &&\r\n                        <div className='header-title' onClick={this.toggleChangeBoardTitle}>{board.title}</div>}\r\n                    {isChangeBoardTitleOpen &&\r\n                        <form onSubmit={() => this.onChangeBoardTitle(newBoardTitle)}>\r\n                            <input autoComplete='off' className='board-title-input' onChange={this.handleChange} type=\"text\" name='title' placeholder={board.title} />\r\n                        </form>}\r\n                    <div className=\"header-stats\" onClick={onToggleCharts}> <EqualizerIcon /> Statistics </div>\r\n                    <div className=\"header-avatars\">\r\n                        {members.map(member =>\r\n                            <Avatar className=\"header-avatar\" key={member._id} src={member.imgUrl}>\r\n                                {utilService.getNameInitials(member.fullname)}\r\n                            </Avatar>)}\r\n                        <Avatar onClick={this.toggleAddMembers} className=\"header-avatar add-member-avatar\" >\r\n                            <PersonAddIcon />\r\n                        </Avatar>\r\n                    </div>\r\n\r\n                    {isAddMembersOpen &&\r\n                        <AddUsers toggleUser={toggleUser} board={board} toggleAddMembers={this.toggleAddMembers} users={users} />}\r\n                    <button onClick={onToggleSideBar} className='open-side-bar-btn'>{<MoreHorizIcon />}Show menu</button>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Doughnut, Bar } from 'react-chartjs-2'\r\nimport { connect } from 'react-redux'\r\nimport { setBoard } from '../store/actions/boardActions.js'\r\n\r\nclass _BoardCharts extends React.Component {\r\n\r\n    state = {\r\n        groupsTitles: [],\r\n        tasksAmount: [],\r\n        tasksPerMember: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.createData()\r\n    }\r\n\r\n    createData = () => {\r\n        const board = this.props.board\r\n        \r\n        let tasksAmount = []\r\n        let roeyCount = 0\r\n        let noaCount = 0\r\n        let rotemCount = 0\r\n\r\n        const groupsTitles = board.groups.map((group) => {\r\n            const tasks = group.tasks\r\n            let tasksCount = 0\r\n            tasks.forEach((task) => {\r\n                ++tasksCount\r\n                const members = task.members\r\n                members.forEach((member) => {\r\n                    if (member.fullname === 'Roey Barda') ++roeyCount\r\n                    if (member.fullname === 'Noa Kaplan') ++noaCount\r\n                    if (member.fullname === 'Rotem Bar') ++rotemCount\r\n                })\r\n            })\r\n            tasksAmount.push(tasksCount)\r\n            return group.title\r\n        })\r\n        const tasksPerMember = { \"Roey Barda\": roeyCount, \"Noa Kaplan\": noaCount, \"Rotem Bar\": rotemCount }\r\n        this.setState({ tasksPerMember })\r\n        this.setState({ groupsTitles, tasksAmount }, () => { console.log('this.state', this.state); })\r\n    }\r\n\r\n    render() {\r\n        const board = this.props.currBoard\r\n        const { groupsTitles, tasksAmount, tasksPerMember } = this.state\r\n        if (!board || !groupsTitles && !tasksAmount && !tasksPerMember) return <div>Loading...</div>\r\n\r\n        const tasksPerGroupData = {\r\n            labels: Object.values(this.state.groupsTitles),\r\n            datasets: [\r\n                {\r\n                    label: 'Tasks Per Group',\r\n                    data: Object.values(this.state.tasksAmount),\r\n                    backgroundColor: [\r\n                        '#ff595e',\r\n                        '#ffca3a',\r\n                        '#8ac926',\r\n                        '#6a4c93',\r\n                        '#a3cef1',\r\n                        '#ea3546',\r\n                    ],\r\n                    borderWidth: 0,\r\n                }\r\n            ]\r\n        }\r\n\r\n        const tasksPerMemberData = {\r\n            labels: Object.keys(tasksPerMember),\r\n\r\n            datasets: [\r\n                {\r\n                    label: 'Tasks Per Member',\r\n                    data: Object.values(tasksPerMember),\r\n                    backgroundColor: [\r\n                        '#ff595e',\r\n                        '#ffca3a',\r\n                        '#8ac926',\r\n                        '#6a4c93',\r\n                        '#a3cef1',\r\n                        '#ea3546',\r\n                    ],\r\n                    borderWidth: 0,\r\n                    options: {                            \r\n                        scales: {\r\n                            y: {\r\n                                beginAtZero: true\r\n                            }\r\n                        }\r\n                    },\r\n                }\r\n            ]\r\n        }\r\n        return (\r\n            <section className=\"board-charts\">\r\n                <div className='header-title'>Statistics</div>\r\n                <div className='chart-container a'>\r\n                    <div className='title'>Tasks Per Group</div>\r\n                    <Doughnut className='chart' options={{ maintainAspectRatio: false }} data={tasksPerGroupData} />\r\n                </div>\r\n                <div className='chart-container b'>\r\n                    <div className='title'>Tasks Per Member</div>\r\n                    <Bar\r\n                        className='chart'\r\n                        data={tasksPerMemberData}\r\n                        options={{ maintainAspectRatio: false }} />\r\n                </div>\r\n            </section>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currBoard: state.boardModule.currBoard\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    setBoard\r\n}\r\n\r\nexport const BoardCharts = connect(mapStateToProps, mapDispatchToProps)(_BoardCharts)","import React from 'react';\r\nimport { Route } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Group } from '../cmps/Group.jsx';\r\nimport { SideBar } from '../cmps/SideBar.jsx';\r\nimport { setBoard, loadBoards, saveBoard } from '../store/actions/boardActions.js'\r\nimport { loadUsers } from '../store/actions/userActions.js'\r\nimport { groupService } from '../services/groupService.js'\r\nimport { taskService } from '../services/taskService.js';\r\nimport { TaskDetails } from '../pages/TaskDetails.jsx';\r\nimport { labelService } from '../services/labelService.js';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\nimport { boardService } from '../services/boardService.js';\r\nimport { BoardHeader } from '../cmps/BoardHeader'\r\nimport { socketService } from '../services/socketService.js';\r\nimport { BoardCharts } from '../cmps/BoardCharts'\r\n\r\nclass _BoardDetails extends React.Component {\r\n\r\n    state = {\r\n        isSideBarOpen: false,\r\n        isAddGroupOpen: false,\r\n        isDragDisabled: false,\r\n        isChartsOpen: false,\r\n        group: {\r\n            title: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { boardId } = this.props.match.params;\r\n        this.getBoardDetails()\r\n        this.props.loadUsers()\r\n        socketService.setup()\r\n        socketService.emit('join board', boardId)\r\n        socketService.on('updated board', (board) => {\r\n            this.props.setBoard(board._id)\r\n        })\r\n\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        ev.preventDefault()\r\n        const value = ev.target.value;\r\n        const key = ev.target.name;\r\n        this.setState({ group: { [key]: value } });\r\n    }\r\n\r\n    onToggleSideBar = () => {\r\n        this.setState({ isChartsOpen: false })\r\n        this.setState({ isSideBarOpen: !this.state.isSideBarOpen })\r\n\r\n    }\r\n\r\n    onToggleCharts = (order = null) => {\r\n        console.log('hi');\r\n        if (order==='close') return this.setState({ isChartsOpen: false })\r\n        this.setState({ isChartsOpen: !this.state.isChartsOpen })\r\n    }\r\n\r\n    getBoardDetails = () => {\r\n        const { boardId } = this.props.match.params;\r\n        this.props.setBoard(boardId)\r\n    }\r\n\r\n    onDeleteGroup = (group) => {\r\n        const board = this.props.currBoard\r\n        groupService.deleteGroup(board, group.id)\r\n        boardService.addActivity(this.props.loggedInUser, board, group, 'deleted the list:')\r\n        this.props.saveBoard(board)\r\n    }\r\n    onCopyGroup = (group) => {\r\n        const board = this.props.currBoard\r\n        groupService.copyGroup(board, group)\r\n        boardService.addActivity(this.props.loggedInUser, board, group, 'copied the list:')\r\n        this.props.saveBoard(board)\r\n    }\r\n    changeGroupName = (newGroupTitle, group) => {\r\n        const board = this.props.currBoard\r\n        if (groupService.changeGroupName(newGroupTitle, group)) {\r\n            boardService.addActivity(this.props.loggedInUser, board, group, `changed the list name to: \"${newGroupTitle}\" from:`)\r\n            this.props.saveBoard(board)\r\n        }\r\n    }\r\n    changeBoardTitle = (newBoardTitle) => {\r\n        const board = this.props.currBoard\r\n        boardService.changeBoardTitle(board, newBoardTitle)\r\n        boardService.addActivity(this.props.loggedInUser, board, null, `changed the board name to: \"${newBoardTitle}\"`)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    onToggleAddGroup = () => {\r\n        this.setState({ isAddGroupOpen: !this.state.isAddGroupOpen })\r\n    }\r\n    onAddGroup = (newGroupTitle) => {\r\n        this.onToggleAddGroup()\r\n        const board = this.props.currBoard\r\n        const group = groupService.addGroup(board, newGroupTitle)\r\n        boardService.addActivity(this.props.loggedInUser, board, group, 'Added a new list named:')\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    goBack = () => {\r\n        this.props.history.push('/board')\r\n    }\r\n\r\n    onAddTask = (group, newTitle) => {\r\n        const loggedInUser = this.props.loggedInUser\r\n        const board = this.props.currBoard\r\n        const task = taskService.addTask(board, group.id, newTitle, loggedInUser)\r\n        boardService.addActivity(this.props.loggedInUser, board, group, 'Added a new card named:', task)\r\n        this.props.saveBoard(board)\r\n    }\r\n    onUpdateTask = (group, updatedTask, task) => {\r\n        const board = this.props.currBoard\r\n        taskService.updateTask(board, group.id, updatedTask)\r\n        boardService.addActivity(this.props.loggedInUser, board, group, `changed the card name to: \"${updatedTask.title}\" from:`, task)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    onDeleteTask = (group, task) => {\r\n        const board = this.props.currBoard\r\n        taskService.deleteTask(board, group.id, task.id)\r\n        boardService.addActivity(this.props.loggedInUser, board, group, 'deleted the card:', task)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    onAddLabel = (groupId, taskId, labelId) => {\r\n        const board = this.props.currBoard\r\n        taskService.addLabel(board, groupId, taskId, labelId)\r\n        this.props.saveBoard(board)\r\n    }\r\n    checkLabel = (groupId, taskId, labelId) => {\r\n        const board = this.props.currBoard\r\n        return taskService.checkLabel(board, groupId, taskId, labelId)\r\n    }\r\n    onRemoveLabel = (groupId, taskId, labelId) => {\r\n        const board = this.props.currBoard\r\n        taskService.onRemoveLabel(board, groupId, taskId, labelId)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    updateLabel = (currLabel, labelUpdates) => {\r\n        const board = this.props.currBoard\r\n        labelService.updateLabel(board, currLabel, labelUpdates)\r\n        this.props.saveBoard(board)\r\n    }\r\n    addLabelToBoard = (newLabel) => {\r\n        const board = this.props.currBoard\r\n        labelService.addLabelToBoard(board, newLabel)\r\n        this.props.saveBoard(board)\r\n    }\r\n    getDatePreview = (dateNum) => {\r\n        return taskService.getDatePreview(dateNum)\r\n    }\r\n\r\n    toggleTaskMember = (task, member) => {\r\n        const board = this.props.currBoard;\r\n        taskService.toggleTaskMember(task, member)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    handleOnDragEnd = (result) => {\r\n        const board = this.props.currBoard;\r\n        if (!result.destination) return\r\n        if (result.type === 'list') {\r\n            const groups = board.groups\r\n            const [reorderedItem] = groups.splice(result.source.index, 1);\r\n            groups.splice(result.destination.index, 0, reorderedItem)\r\n        } else {\r\n            const groupSource = board.groups.find(group => group.id === result.source.droppableId)\r\n            const [reorderedItem] = groupSource.tasks.splice(result.source.index, 1);\r\n            const groupDes = board.groups.find(group => group.id === result.destination.droppableId)\r\n            groupDes.tasks.splice(result.destination.index, 0, reorderedItem)\r\n        }\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    onChangeBg = (pick, imgUrl, bgColor) => {\r\n        const board = this.props.currBoard;\r\n        boardService.changeBg(pick, imgUrl, bgColor, board)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    toggleDroppable = () => {\r\n        this.setState({ ...this.state, isDragDisabled: !this.state.isDragDisabled });\r\n    }\r\n\r\n    setDate = (date, task) => {\r\n        const board = this.props.currBoard;\r\n        taskService.setTaskDate(task, date);\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n    toggleUser = (user) => {\r\n        const board = this.props.currBoard;\r\n        boardService.toggleUser(board, user)\r\n        this.props.saveBoard(board)\r\n    }\r\n\r\n\r\n    render() {\r\n        const { isAddGroupOpen, isSideBarOpen, isDragDisabled, isChartsOpen } = this.state\r\n        const { users } = this.props\r\n        const newGroupTitle = this.state.group.title\r\n        const board = this.props.currBoard\r\n        if (!board) return <div>Loading</div>\r\n        return <React.Fragment>\r\n            <div className='task-details-container'>\r\n                <Route component={TaskDetails} path='/board/:boardId/:groupId/:taskId' />\r\n                <div className='board-window' style={(board.style.imgUrl) ? { backgroundImage: `url(${board.style.imgUrl})` } : { backgroundColor: board.style.bgColor }} ></div>\r\n            </div>\r\n\r\n            <div className=\"board-header-container\">\r\n                <BoardHeader toggleUser={this.toggleUser} users={users} changeBoardTitle={this.changeBoardTitle} board={board} onToggleSideBar={this.onToggleSideBar} onToggleCharts={this.onToggleCharts} />\r\n            </div>\r\n\r\n            {isSideBarOpen &&\r\n                < SideBar onChangeBg={this.onChangeBg} getDatePreview={this.getDatePreview} board={board} onToggleSideBar={this.onToggleSideBar} />\r\n            }\r\n\r\n            {isChartsOpen &&\r\n                <BoardCharts board={board} />\r\n            }\r\n\r\n\r\n\r\n            <DragDropContext onDragEnd={this.handleOnDragEnd}>\r\n                <Droppable droppableId={board._id} direction=\"horizontal\" type='list' >\r\n                    {(provided) => (\r\n                        <div className=\"board-container\"{...provided.droppableProps} ref={provided.innerRef}>\r\n                            {(board.groups) && board.groups.map((group, index) => {\r\n                                return (\r\n                                    <Draggable isDragDisabled={isDragDisabled} key={group.id} draggableId={group.id} index={index}>\r\n                                        {(provided) => (\r\n                                            <div\r\n                                                {...provided.draggableProps}\r\n                                                {...provided.dragHandleProps}\r\n                                                ref={provided.innerRef}>\r\n                                                <Group setDate={this.setDate} toggleDroppable={this.toggleDroppable} isDragDisabled={isDragDisabled} changeGroupName={this.changeGroupName} toggleTaskMember={this.toggleTaskMember} updateLabel={this.updateLabel} addLabelToBoard={this.addLabelToBoard} checkLabel={this.checkLabel} onRemoveLabel={this.onRemoveLabel} onAddLabel={this.onAddLabel} onDeleteTask={this.onDeleteTask} onUpdateTask={this.onUpdateTask} onCopyGroup={this.onCopyGroup} onDeleteGroup={this.onDeleteGroup} board={board} group={group} onAddTask={this.onAddTask} />\r\n                                            </div>\r\n                                        )}\r\n                                    </Draggable>\r\n                                )\r\n                            })\r\n                            }\r\n                            {!isAddGroupOpen &&\r\n                                <button className='add-group-toggle-btn' onClick={this.onToggleAddGroup}>+ Add another list</button>}\r\n                            {isAddGroupOpen &&\r\n                                <form className='add-group-form' onSubmit={this.handleChange}>\r\n                                    <textarea name='title' placeholder='Enter list title...' className='group-title-input' id=\"\" cols=\"1\" rows=\"1\" onChange={this.handleChange}></textarea>\r\n                                    <div className='add-group-controls'>\r\n                                        <button className='add-group-add-btn' onClick={() => this.onAddGroup(newGroupTitle)}> Add list</button>\r\n                                        <button className='add-group-close-btn' onClick={this.onToggleAddGroup}> X </button>\r\n                                    </div>\r\n                                </form>\r\n                            }\r\n\r\n                            {provided.placeholder}\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        </React.Fragment>\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser,\r\n        currBoard: state.boardModule.currBoard,\r\n        boards: state.boardModule.boards,\r\n        users: state.userModule.users,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadUsers,\r\n    setBoard,\r\n    loadBoards,\r\n    saveBoard\r\n}\r\n\r\nexport const BoardDetails = connect(mapStateToProps, mapDispatchToProps)(_BoardDetails)","import { loadUsers, removeUser, login, logout, signup } from '../store/actions/userActions'\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass _LoginSignup extends Component {\r\n  state = {\r\n    isLogin: true,\r\n    msg: '',\r\n    loginCred: {\r\n      username: '',\r\n      password: ''\r\n    },\r\n    signupCred: {\r\n      username: '',\r\n      password: '',\r\n      fullname: ''\r\n    }\r\n  }\r\n  onToggleLoginSignup = () => {\r\n    this.setState({ isLogin: !this.state.isLogin })\r\n  }\r\n  componentDidMount() {\r\n    this.props.loadUsers()\r\n  }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  signupHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password } = this.state.loginCred\r\n    if (!username) {\r\n      return this.setState({ msg: 'Please enter user/password' })\r\n    }\r\n    const userCreds = { username, password }\r\n    try {\r\n      this.props.login(userCreds)\r\n      this.setState({ loginCred: { username: '', password: '' } })\r\n    } catch (err) {\r\n      this.setState({ msg: 'Login failed, try again.' })\r\n    }\r\n  }\r\n\r\n  doSignup = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password, fullname } = this.state.signupCred\r\n    if (!username || !password || !fullname) {\r\n      return this.setState({ msg: 'All inputs are required' })\r\n    }\r\n    const signupCreds = { username, password, fullname }\r\n    this.props.signup(signupCreds)\r\n    this.setState({ signupCred: { username: '', password: '', fullname: '' } })\r\n  }\r\n\r\n  removeUser = userId => {\r\n    this.props.removeUser(userId)\r\n  }\r\n  render() {\r\n\r\n    let loginSection = (\r\n      <form className=\"frm\" onSubmit={this.doLogin}>\r\n        <h2 className='title'>Login</h2>\r\n        <div className='cradentials'>\r\n\r\n          <input\r\n            name=\"username\"\r\n            value={this.state.loginCred.username}\r\n            onChange={this.loginHandleChange}\r\n            autoComplete='off'\r\n            placeholder='Username'\r\n          >\r\n          </input>\r\n          <input\r\n            name=\"password\"\r\n            // type=\"password\"\r\n            value={this.state.loginCred.password}\r\n            onChange={this.loginHandleChange}\r\n            placeholder=\"Password\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <button className='login-signup-btn' onClick={this.doLogin}>Login</button>\r\n        </div>\r\n      </form>\r\n    )\r\n    let signupSection = (\r\n      <form className=\"frm\" onSubmit={this.doSignup}>\r\n        <h2 className='title'>Signup</h2>\r\n        <div className='cradentials'>\r\n\r\n          <input\r\n            type=\"text\"\r\n            name=\"fullname\"\r\n            value={this.state.signupCred.fullname}\r\n            onChange={this.signupHandleChange}\r\n            placeholder=\"Full name\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <input\r\n            name=\"password\"\r\n            // type=\"password\"\r\n            value={this.state.signupCred.password}\r\n            onChange={this.signupHandleChange}\r\n            placeholder=\"Password\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.signupCred.username}\r\n            onChange={this.signupHandleChange}\r\n            placeholder=\"Username\"\r\n            autoComplete=\"off\"\r\n          />\r\n          <button className='login-signup-btn' >Signup</button>\r\n        </div>\r\n      </form>\r\n    )\r\n\r\n    const { isLogin } = this.state\r\n    const { loggedInUser } = this.props\r\n    return (\r\n      <div className=\"form-container\">\r\n        <div className=\"login-sigup\">\r\n          <p>{this.state.msg}</p>\r\n          {loggedInUser && (\r\n            <div className='welcome-user-msg'>\r\n              <h3>\r\n                Welcome {loggedInUser.fullname}\r\n              </h3>\r\n              <button className='login-signup-btn' onClick={this.props.logout}>Logout</button>\r\n            </div>\r\n          )}\r\n          {!loggedInUser && isLogin && loginSection}\r\n          {!loggedInUser && !isLogin && signupSection}\r\n          {!loggedInUser && < div onClick={this.onToggleLoginSignup} className='change-login-signup-btn'>{(isLogin) ? 'don\\'t have an account yet?' : 'I already have an account'}</div>}\r\n        </div>\r\n      </div >\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.userModule.users,\r\n    loggedInUser: state.userModule.loggedInUser,\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  removeUser,\r\n  loadUsers\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)","import { Home } from './pages/Home.jsx'\r\nimport { BoardPage } from './pages/BoardPage.jsx'\r\nimport { BoardDetails } from './pages/BoardDetails.jsx'\r\nimport { LoginSignup } from './pages/LoginSignup.jsx'\r\n\r\nexport const routes = [{\r\n        path: '/',\r\n        component: Home,\r\n    },\r\n    {\r\n        path: '/board',\r\n        component: BoardPage,\r\n    },\r\n    {\r\n        path: '/board/:boardId?/:groupId?/:taskId?',\r\n        component: BoardDetails,\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginSignup,\r\n    },\r\n]","export default __webpack_public_path__ + \"static/media/logo1.2c1feed6.png\";","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { Avatar } from '@material-ui/core';\r\nimport { utilService } from '../services/utilService';\r\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\r\nimport Logo1 from '../assets/imgs/logo1.png'\r\nimport Logo2 from '../assets/imgs/logo2.png'\r\n\r\nclass _Header extends Component {\r\n    render() {\r\n        const { loggedInUser } = this.props\r\n        return (\r\n            <header className=\"main-header\">\r\n                <Link className='home-link-header' to=\"/\"><HomeOutlinedIcon /></Link>\r\n                <Link className='boards-link-header' to=\"/board\">Boards</Link>\r\n                {/* <Link className='logo-header' to=\"/\">EasyTask</Link> */}\r\n                <Link className='logo-header' to=\"/\"><img className=\"logo-header-img\" src={Logo1}/></Link>\r\n                {(loggedInUser) ? <Link className='login-link-header' to=\"/login\"> <Avatar className='logged-in-user-avatar' key={loggedInUser._id} src={loggedInUser.imgUrl}>{(!loggedInUser.imgUrl) && utilService.getNameInitials(loggedInUser.fullname)}</Avatar> {loggedInUser.fullname} </Link>\r\n                    : <Link className='login-link-header' to=\"/login\">Login</Link>}\r\n            </header>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loggedInUser: state.userModule.loggedInUser\r\n    }\r\n}\r\nconst mapDispatchToProps = {}\r\n\r\n\r\nexport const Header = connect(mapStateToProps, mapDispatchToProps)(_Header)","export default __webpack_public_path__ + \"static/media/logo2.4f609611.png\";","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport { routes } from './routes.js'\r\n\r\nimport { Header } from './cmps/Header'\r\n\r\n\r\nexport function App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Header />\r\n      <main>\r\n        <Switch>\r\n          {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n        </Switch>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://cra.link/PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://cra.link/PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://cra.link/PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const initialState = {\r\n  currBoard: null,\r\n  boards: [],\r\n}\r\n\r\nexport function boardReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_BOARDS':\r\n      return { ...state, boards: action.boards }\r\n    case 'ADD_BOARD':\r\n      return { ...state, boards: [...state.boards, action.board] }\r\n    case 'UPDATE_BOARD':\r\n      return {\r\n        ...state,\r\n        boards: state.boards.map(board =>\r\n          board._id === action.board._id ? action.board : board\r\n        )\r\n      }\r\n    case 'REMOVE_BOARD':\r\n      return { ...state, boards: state.boards.filter(board => board._id !== action.boardId) }\r\n    case 'SET_CURR_BOARD':\r\n      return { ...state, currBoard: action.currBoard }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USERS':\r\n      return { ...state, users: action.users }\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n    case 'REMOVE_USER':\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(user => user._id !== action.userId)\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport { boardReducer } from './boardReducer'\r\nimport { userReducer } from './userReducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n  boardModule: boardReducer,\r\n  userModule: userReducer\r\n})\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\n\r\nimport thunk from 'redux-thunk'\r\nimport { rootReducer } from './reducers'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux'\r\nimport { App } from './App';\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\r\nimport './assets/styles/main.scss'\r\nimport { store } from './store/store'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {HashRouter as Router } from 'react-router-dom'\r\n\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://cra.link/PWA\r\nserviceWorkerRegistration.unregister();\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}